$(window).on('load', function() {

//*************************************************************//
//                        Weights Reference scripts            //
// *************************************************************/

// stillbirths
    wttable = {
        body: {
            wk12: '20.9; 14.3 - 27.5',
            wk13: '31.2; 21.1 - 41.3',
            wk14: '49.1; 43.6 - 63.3',
            wk15: '74.7; 54.9 - 94.5 ',
            wk16: '108; 82 - 134',
            wk17: '149; 116 - 182',
            wk18: '197; 155 - 239',
            wk19: '255; 204 - 306',
            wk20: '319; 258 - 380',
            wk21: '389; 317 - 461',
            wk22: '452; 368 - 536',
            wk23: '510; 413 - 607',
            wk24: '579; 464 - 694',
            wk25: '660; 526 - 794',
            wk26: '744; 581 - 907',
            wk27: '839; 640 - 1038',
            wk28: '946; 707 - 1185',
            wk29: '1064; 778 - 1350',
            wk30: '1211; 881 - 1541',
            wk31: '1351; 978 - 1724',
            wk32: '1492; 1086 - 1898',
            wk33: '1650; 1217 - 2083',
            wk34: '1832; 1375 - 2289',
            wk35: '2040; 1553 - 2527',
            wk36: '2246; 1735 - 2757',
            wk37: '2424; 1889 - 2959',
            wk38: '2603; 2044 - 3162',
            wk39: '2787; 2205 - 3369',
            wk40: '2942; 2339 - 3545',
            wk41: '3098; 2475 - 3721',
            wk42: '3267; 2626 - 3908',
            wk43: '3444; 2787 - 4101',
            wk44: '3633; 2962 - 4304'
        },
        heart: {
            wk12: '0.15; 0.13 - 0.17',
            wk13: '0.20; 0.14 - 0.26',
            wk14: '0.31; 0.20 - 0.42',
            wk15: '0.50; 0.33 - 0.67',
            wk16: '0.76; 0.52 - 1.00',
            wk17: '1.10; 0.79 - 1.41',
            wk18: '1.50; 1.10 - 1.90',
            wk19: '1.88; 1.39 - 2.37',
            wk20: '2.41; 1.82 - 3.00',
            wk21: '2.89; 2.18 - 3.60',
            wk22: '3.38; 2.56 - 4.20',
            wk23: '3.81; 2.85 - 4.77',
            wk24: '4.23; 3.11 - 5.35',
            wk25: '4.80; 3.19 - 6.11',
            wk26: '5.50; 3.93 - 7.07',
            wk27: '6.28; 4.44 - 8.12',
            wk28: '7.13; 5.02 - 9.24',
            wk29: '7.95; 5.51 - 10.4',
            wk30: '8.84; 6.13 - 11.6',
            wk31: '9.83; 6.97 - 12.7',
            wk32: '10.8; 7.80 - 13.8',
            wk33: '11.9; 8.70 - 15.1',
            wk34: '13.1; 9.60 - 16.6',
            wk35: '14.5; 10.8 - 18.2',
            wk36: '16.0; 12.0 - 20.0',
            wk37: '17.6; 13.3 - 21.9',
            wk38: '18.6; 14.1 - 23.1',
            wk39: '19.4; 14.6 - 24.2',
            wk40: '20.3; 15.3 - 25.3',
            wk41: '21.3; 16.1 - 26.5',
            wk42: '22.4; 17.1 - 27.7',
            wk43: '23.6; 18.2 - 29.0',
            wk44: '24.8; 19.3 - 30.3'
        },
        lungs: {
            wk12: '0.50; 0.22 - 0.78',
            wk13: '1.08; 0.63 - 1.53',
            wk14: '1.79; 1.12 - 2.46',
            wk15: '2.64; 1.72 - 3.56',
            wk16: '3.61; 2.40 - 4.82',
            wk17: '4.70; 3.15 - 6.25',
            wk18: '5.92; 4.00 - 7.84',
            wk19: '7.3; 4.96 - 9.64',
            wk20: '8.84; 6.04 - 11.6',
            wk21: '10.4; 7.10 - 13.7',
            wk22: '12.0; 8.20 - 15.8',
            wk23: '13.5; 9.10 - 17.9',
            wk24: '15.0; 10.0 - 20.0',
            wk25: '16.8; 11.2 - 22.4',
            wk26: '18.7; 12.5 - 247.9',
            wk27: '20.6; 13.8 - 27.4',
            wk28: '22.7; 15.4 - 30.0',
            wk29: '25.1; 17.2 - 33.0',
            wk30: '27.4; 19.0 - 35.8',
            wk31: '29.2; 20.4 - 38.0',
            wk32: '31.2; 22.2 - 40.2',
            wk33: '34.1; 24.7 - 43.5',
            wk34: '37.5; 27.4 - 47.6',
            wk35: '41.7; 30.7 - 52.7',
            wk36: '45.1; 32.9 - 57.3',
            wk37: '47.0; 33.8 - 60.2',
            wk38: '48.4; 34.4 - 62.4',
            wk39: '49.4; 34.6 - 64.2',
            wk40: '50.8; 35.3 - 66.3',
            wk41: '52.3; 36.2 - 68.4',
            wk42: '54.0; 37.5- 7 0.5',
            wk43: '55.9; 39.1 - 72.7',
            wk44: '57.8; 40.9 - 74.7'
        },
        liver: {
            wk12: '1.01; 0.63 - 1.39',
            wk13: '1.38; 0.81 - 1.95',
            wk14: '2.18; 1.34 - 3.02',
            wk15: '3.41; 2.23 - 4.59',
            wk16: '5.06; 3.46 - 6.66',
            wk17: '7.14; 5.04 - 9.24',
            wk18: '9.65; 6.99 - 12.3',
            wk19: '12.8; 9.50 - 16.1',
            wk20: '16.5; 12.5 - 20.5',
            wk21: '19.9; 15.1 - 24.7',
            wk22: '22.7; 17.0 - 28.4',
            wk23: '24.3; 17.8 - 30.8',
            wk24: '26.4; 19.3 - 33.5',
            wk25: '29.4; 21.6 - 37.2',
            wk26: '33.2; 24.4 - 42.0',
            wk27: '37.8; 27.9 - 47.7',
            wk28: '42.6; 31.1 - 54.1',
            wk29: '46.9; 33.6 - 60.2',
            wk30: '51.3; 36.5 - 66.1',
            wk31: '55.9; 40.1 - 71.7',
            wk32: '61.2; 44.2 - 78.2',
            wk33: '66.3; 47.5 - 85.1',
            wk34: '72.8; 51.9 - 93.7',
            wk35: '81.8; 59.5 - 104',
            wk36: '92.8; 69.9 - 116',
            wk37: '104; 81.0 - 127',
            wk38: '116; 90.0 - 142',
            wk39: '124; 95.0 - 153',
            wk40: '130; 98.0 - 162',
            wk41: '136; 100 - 172',
            wk42: '141; 101 - 181',
            wk43: '145; 100 - 190',
            wk44: '149; 99.0 - 199'
        },
        kidney: {
            wk12: '0.16; 0.12 - 0.20',
            wk13: '0.22; 0.15 - 0.29',
            wk14: '0.36; 0.23 - 0.49',
            wk15: '0.59; 0.40 - 0.78',
            wk16: '0.90; 0.62 - 1.18',
            wk17: '1.30; 0.91 - 1.69',
            wk18: '1.79; 1.28 - 2.30',
            wk19: '2.36; 1.71 - 3.01',
            wk20: '3.00; 2.19 - 3.81',
            wk21: '3.63; 2.64 - 4.62',
            wk22: '4.23; 3.05 - 5.41',
            wk23: '4.77; 3.38 - 6.16',
            wk24: '5.65; 4.02 - 7.28',
            wk25: '6.55; 4.64 - 8.46',
            wk26: '7.46; 5.25 - 9.67',
            wk27: '8.53; 6.00 - 11.1',
            wk28: '9.75; 6.90 - 12.6',
            wk29: '11.1; 7.90 - 14.3',
            wk30: '12.5; 8.80 - 16.2',
            wk31: '13.8; 9.80 - 17.8',
            wk32: '15.0; 10.6 - 19.4',
            wk33: '16.5; 11.6 - 21.4',
            wk34: '18.0; 12.7 - 23.3',
            wk35: '19.6; 13.9 - 25.3',
            wk36: '21.3; 15.3 - 27.3',
            wk37: '22.5; 16.1 - 28.9',
            wk38: '23.9; 17.1 - 30.7',
            wk39: '24.9; 17.8 - 32.0',
            wk40: '25.7; 18.2 - 33.2',
            wk41: '26.4; 18.6 - 34.2',
            wk42: '27.0; 18.8 - 35.2',
            wk43: '27.6; 19.1 - 36.1',
            wk44: '28.3; 19.5 - 37.1'
        },
        thymus: {
            wk12: '0.01; 0.00 - 0.02',
            wk13: '0.03; 0.02 - 0.04',
            wk14: '0.05; 0.02 - 0.07',
            wk15: '0.09; 0.05 - 0.13',
            wk16: '0.14; 0.08 - 0.20',
            wk17: '0.20; 0.12 - 0.28',
            wk18: '0.28; 0.16 - 0.40',
            wk19: '0.41; 0.24 - 0.58',
            wk20: '0.54; 0.31 - 0.77',
            wk21: '0.72; 0.43 - 1.01',
            wk22: '0.92; 0.55 - 1.29',
            wk23: '1.15; 0.69 - 1.61',
            wk24: '1.38; 0.80 - 1.96',
            wk25: '1.63; 0.92 - 2.34',
            wk26: '2.0; 1.10 - 2.82',
            wk27: '2.4; 1.35 - 3.39',
            wk28: '2.9; 1.63 - 4.07',
            wk29: '3.4; 1.95 - 4.93',
            wk30: '4.0; 2.17 - 5.87',
            wk31: '4.5; 2.35 - 6.69',
            wk32: '4.9; 2.48 - 7.34',
            wk33: '5.4; 2.77 - 8.03',
            wk34: '6.0; 3.19 - 8.87',
            wk35: '6.9; 3.81 - 9.93',
            wk36: '7.9; 4.63 - 11.1',
            wk37: '9.0; 5.54 - 12.4',
            wk38: '9.6; 6.01 - 13.2',
            wk39: '10.0; 6.20 - 13.8',
            wk40: '10.2; 6.30 - 14.1',
            wk41: '10.2; 6.10 - 14.3',
            wk42: '10.1; 5.80 - 14.4',
            wk43: '9.8; 5.37 - 14.3',
            wk44: '9.4; 4.80 - 14.1'
        },
        spleen: {
            wk12: '0.01; 0.00 - 0.02',
            wk13: '0.01; 0.00 - 0.02',
            wk14: '0.03; 0.01 - 0.05',
            wk15: '0.05; 0.02 - 0.08',
            wk16: '0.09; 0.04 - 0.14',
            wk17: '0.15; 0.08 - 0.22',
            wk18: '0.21; 0.11 - 0.31',
            wk19: '0.30; 0.16 - 0.44',
            wk20: '0.41; 0.23 - 0.59',
            wk21: '0.54; 0.32 - 0.76',
            wk22: '0.66; 0.38 - 0.94',
            wk23: '0.75; 0.43 - 1.07',
            wk24: '0.91; 0.55 - 1.27',
            wk25: '1.11; 0.67 - 1.55',
            wk26: '1.38; 0.83 - 1.93',
            wk27: '1.78; 1.07 - 2.49',
            wk28: '2.26; 1.30 - 3.22',
            wk29: '2.73; 1.54 - 3.92',
            wk30: '3.20; 1.84 - 4.56',
            wk31: '3.74; 2.16 - 5.32',
            wk32: '4.37; 2.50 - 6.24',
            wk33: '5.06; 2.88 - 7.24',
            wk34: '5.76; 3.25 - 8.27',
            wk35: '6.47; 3.68 - 9.26',
            wk36: '7.21; 4.14 - 10.3',
            wk37: '8.11; 4.81 - 11.4',
            wk38: '9.15; 5.62 - 12.7',
            wk39: '9.83; 6.10 - 13.6',
            wk40: '10.2; 6.30 - 14.1',
            wk41: '10.5; 6.50 - 14.5',
            wk42: '10.8; 6.80 - 14.8',
            wk43: '10.9; 6.90 - 14.9',
            wk44: '11.1; 7.10 - 15.1'
        },
        adrenal: {
            wk12: '0.10; 0.07 - 0.13',
            wk13: '0.15; 0.10 - 0.20',
            wk14: '0.23; 0.15 - 0.31',
            wk15: '0.33; 0.21 - 0.45',
            wk16: '0.47; 0.31 - 0.63',
            wk17: '0.64; 0.42 - 0.86',
            wk18: '0.84; 0.54 - 1.14',
            wk19: '1.03; 0.69 - 1.37',
            wk20: '1.29; 0.88 - 1.70',
            wk21: '1.51; 1.02 - 2.00',
            wk22: '1.73; 1.16 - 2.30',
            wk23: '1.88; 1.22 - 2.54',
            wk24: '2.00; 1.26 - 2.74',
            wk25: '2.16; 1.34 - 2.98',
            wk26: '2.36; 1.46 - 3.26',
            wk27: '2.58; 1.59 - 3.57',
            wk28: '2.83; 1.73 - 3.93',
            wk29: '3.09; 1.88 - 4.30',
            wk30: '3.36; 2.02 - 4.70',
            wk31: '3.71; 2.29 - 5.13',
            wk32: '4.07; 2.57 - 5.57',
            wk33: '4.42; 2.86 - 5.98',
            wk34: '4.77; 3.14 - 6.40',
            wk35: '5.19; 3.43 - 6.95',
            wk36: '5.74; 3.82 - 7.66',
            wk37: '6.46; 4.36 - 8.56',
            wk38: '7.01; 4.70 - 9.32',
            wk39: '7.44; 4.89 - 9.99',
            wk40: '7.75; 4.93 - 10.6',
            wk41: '7.99; 4.88 - 11.1',
            wk42: '8.14; 4.70 - 11.6',
            wk43: '8.21; 4.42 - 12.0',
            wk44: '8.22; 4.05 - 12.4'
        },
        brain: {
            wk12: '3.20; 1.76 - 4.64',
            wk13: '5.19; 3.24 - 7.14',
            wk14: '8.14; 5.56 - 10.72',
            wk15: '12.0; 8.7 - 15.3',
            wk16: '16.9; 12.7 - 21.1',
            wk17: '22.8; 17.6 - 28.0',
            wk18: '29.7; 23.4 - 36.0',
            wk19: '37.2; 29.6 - 44.8',
            wk20: '45.7; 36.8 - 54.6',
            wk21: '54.6; 44.2 - 65.0',
            wk22: '63.7; 51.7 - 75.7',
            wk23: '72.3; 58.5 - 86.1',
            wk24: '82.8; 67.2 - 98.4',
            wk25: '93.4; 76.0 - 111',
            wk26: '105; 86 - 124',
            wk27: '118; 97 - 139',
            wk28: '135; 111 - 159',
            wk29: '154; 128 - 180',
            wk30: '173; 143 - 203',
            wk31: '191; 158 - 224',
            wk32: '206; 171 - 241',
            wk33: '222; 186 - 258',
            wk34: '242; 205 - 279',
            wk35: '265; 226 - 304',
            wk36: '292; 250 - 334',
            wk37: '319; 275 - 363',
            wk38: '340; 294 - 386',
            wk39: '355; 306 - 404',
            wk40: '368; 317 - 419',
            wk41: '382; 329 - 435',
            wk42: '395; 340 - 450',
            wk43: '408; 351 - 465',
            wk44: '421; 362 - 480'
        }
    };

    meastable = { chlen: { wk12: '9.30; 8.3 - 10.3', wk13: '11.4; 10.3 - 12.5', wk14: '13.4; 12.2 - 14.6', wk15: '15.4; 14.0 - 16.8', wk16: '17.4; 15.9 - 18.9', wk17: '19.3; 17.7 - 20.9', wk18: '21.2; 19.5 - 22.9', wk19: '23.0; 21.2 - 24.8', wk20: '24.7; 22.8 - 26.6', wk21: '26.4; 24.5 - 28.3', wk22: '27.8; 25.8 - 29.8', wk23: '29.1; 27.1 - 31.1', wk24: '30.3; 28.2 - 32.4', wk25: '31.6; 29.4 - 33.8', wk26: '32.8; 30.5 - 35.1', wk27: '34.0; 31.4 - 36.6', wk28: '35.1; 32.1 - 38.1', wk29: '36.2; 32.9 - 39.5', wk30: '37.4; 33.9 - 40.9', wk31: '38.6; 34.9 - 42.3', wk32: '39.7; 35.9 - 43.5', wk33: '40.8; 36.8 - 44.8', wk34: '41.9; 37.8 - 46.0', wk35: '43.2; 38.9 - 47.5', wk36: '44.4; 40.0 - 48.8', wk37: '45.7; 41.3 - 50.1', wk38: '47.0; 42.6 - 51.4', wk39: '48.2; 43.8 - 52.6', wk40: '49.3; 45.1 - 53.5', wk41: '50.5; 46.4 - 54.6', wk42: '51.6; 47.8 - 55.4', wk43: 'n/a', wk44: 'n/a' }, crlen: { wk12: '7.60; 6.9 - 8.3', wk13: '8.70; 7.9 - 9.5', wk14: '9.80; 8.9 - 10.7', wk15: '10.9; 9.9 - 11.9', wk16: '12.1; 11.0 - 13.2', wk17: '13.3; 12.2 - 14.4', wk18: '14.5; 13.3 - 15.7', wk19: '15.8; 14.5 - 17.1', wk20: '17.1; 15.7 - 18.5', wk21: '18.4; 17.0 - 19.8', wk22: '19.5; 18.0 - 21.0', wk23: '20.4; 18.9 - 21.9', wk24: '21.3; 19.7 - 22.9', wk25: '22.3; 20.6 - 24.0', wk26: '23.2; 21.4 - 25.0', wk27: '24.2; 22.3 - 26.1', wk28: '25.0; 22.9 - 27.1', wk29: '25.9; 23.5 - 28.3', wk30: '26.7; 24.0 - 29.4', wk31: '27.6; 24.6 - 30.6', wk32: '28.4; 25.2 - 31.6', wk33: '29.2; 25.9 - 32.5', wk34: '30.1; 26.8 - 33.4', wk35: '31.0; 27.7 - 34.3', wk36: '31.8; 28.5 - 35.1', wk37: '32.7; 29.5 - 35.9', wk38: '33.6; 30.4 - 36.8', wk39: '34.4; 31.4 - 37.4', wk40: '35.2; 32.3 - 38.1', wk41: '36.0; 33.3 - 38.7', wk42: '36.7; 34.2 - 39.2', wk43: 'n/a ', wk44: 'n/a  '}, hc:{ wk12: '6.80; 5.6 - 7.9', wk13: '8.20; 7.0 - 9.4', wk14: '9.60; 8.4 - 10.8', wk15: '11.0; 9.8 - 12.2', wk16: '12.3; 11.1 - 13.5', wk17: '13.6; 12.4 - 14.8', wk18: '14.9; 13.6 - 16.2', wk19: '16.1; 14.8 - 17.4', wk20: '17.3; 16.0 - 18.6', wk21: '18.5; 17.2 - 19.8', wk22: '19.6; 18.3 - 20.9', wk23: '20.7; 19.3 - 22.1', wk24: '21.8; 20.4 - 23.2', wk25: '22.8; 21.4 - 24.2', wk26: '23.8; 22.4 - 25.2', wk27: '24.8; 23.4 - 26.2', wk28: '25.7; 24.3 - 27.1', wk29: '26.6; 25.1 - 28.1', wk30: '27.5; 26.0 - 29.0', wk31: '28.3; 26.8 - 29.8', wk32: '29.1; 27.6 - 30.6', wk33: '29.8; 28.3 - 31.3', wk34: '30.6; 29.0 - 32.2', wk35: '31.2; 29.6 - 32.8', wk36: '31.9; 30.3 - 33.5', wk37: '32.5; 30.9 - 34.1', wk38: '33.1; 31.5 - 34.7', wk39: '33.6; 31.9 - 35.3', wk40: '34.2; 32.5 - 35.9', wk41: '34.6; 32.9 - 36.3', wk42: '35.1; 33.4 - 36.8', wk43: 'n/a', wk44: 'n/a' }, fl:{ wk12: '1.0; 0.9-1.1', wk13: '1.2; 1.1-1.3', wk14: '1.5; 1.4-1.6', wk15: '1.8; 1.7-1.9', wk16: '2.1; 2.0-2.2', wk17: '2.4; 2.3-3.6', wk18: '2.7; 2.6-2.9', wk19: '3.1; 2.9-3.2', wk20: '3.4; 3.2-3.6', wk21: '3.7; 3.5-3.9', wk22: '4.0; 3.8-4.2', wk23: '4.2; 3.9-4.4', wk24: '4.4; 4.1-4.6', wk25: '4.6; 4.3-4.9', wk26: '4.8; 4.5-5.2', wk27: '5.0; 4.6-5.4', wk28: '5.2; 4.8-5.6', wk29: '5.4; 4.9-5.9', wk30: '5.6; 5.1-6.2', wk31: '5.8; 5.2-6.4', wk32: '6.0; 5.4-6.7', wk33: '6.3; 5.6-6.9', wk34: '6.5; 5.8-7.1', wk35: '6.7; 6.0-7.4', wk36: '6.9; 6.3-7.6', wk37: '7.1; 6.6-7.8', wk38: '7.3; 6.7-8.0', wk39: '7.6; 6.9-8.2', wk40: '7.8; 7.2-8.4', wk41: '8.0; 7.4-8.6', wk42: '8.3; 7.6-8.9', wk43: 'n/a', wk44: 'n/a' }, chc:{ wk12: 'n/a; n/a', wk13: '7.7; n/a', wk14: '8.6; n/a', wk15: '9.5; n/a', wk16: '10.5; n/a', wk17: '11.4; n/a', wk18: '12.4; n/a', wk19: '13.3; n/a', wk20: '14.2; n/a', wk21: '15.2; n/a', wk22: '16.1; n/a', wk23: '17.0; n/a', wk24: '18.0; n/a', wk25: '18.9; n/a', wk26: '19.9; n/a', wk27: '20.8; n/a', wk28: '21.7; n/a', wk29: '22.7; n/a', wk30: '23.6; n/a', wk31: '24.5; n/a', wk32: '25.5; n/a', wk33: '26.4; n/a', wk34: '27.4; n/a', wk35: '28.3; n/a', wk36: '29.2; n/a', wk37: '30.2; n/a', wk38: '31.1; n/a', wk39: '32.1; n/a', wk40: '33.0; n/a', wk41: 'n/a; n/a', wk42: 'n/a; n/a', wk43: 'n/a', wk44: 'n/a' }, abdc:{ wk12: 'n/a; n/a', wk13: '6.0; n/a', wk14: '6.9; n/a', wk15: '7.8; n/a', wk16: '8.7; n/a', wk17: '9.6; n/a', wk18: '10.5; n/a', wk19: '11.5; n/a', wk20: '12.4; n/a', wk21: '13.3; n/a', wk22: '14.2; n/a', wk23: '15.1; n/a', wk24: '16.0; n/a', wk25: '16.9; n/a', wk26: '17.9; n/a', wk27: 'n/a; n/a', wk28: 'n/a; n/a', wk29: 'n/a; n/a', wk30: 'n/a; n/a', wk31: 'n/a; n/a', wk32: 'n/a; n/a', wk33: 'n/a; n/a', wk34: 'n/a; n/a', wk35: 'n/a; n/a', wk36: 'n/a; n/a', wk37: 'n/a; n/a', wk38: 'n/a; n/a', wk39: 'n/a; n/a', wk40: 'n/a; n/a', wk41: 'n/a; n/a', wk42: 'n/a; n/a', wk43: 'n/a', wk44: 'n/a' }, icanth:{ wk12: '0.6; 0.5 - 0.8', wk13: '0.7; 0.5 - 0.8', wk14: '0.8; 0.6 - 0.9', wk15: '0.9; 0.7 - 1.0', wk16: '0.9; 0.8 - 1.1', wk17: '1.0; 0.9 - 1.2', wk18: '1.1; 1.0 - 1.3', wk19: '1.2; 1.0 - 1.3', wk20: '1.3; 1.1 - 1.4', wk21: '1.3; 1.1 - 1.5', wk22: '1.4; 1.3 - 1.8', wk23: '1.4; 1.3 - 1.8', wk24: '1.5; 1.3 - 1.7', wk25: '1.6; 1.4 - 1.7', wk26: '1.6; 1.5 - 1.8', wk27: '1.7; 1.5 - 1.8', wk28: '1.7; 1.6 - 1.9', wk29: '1.8; 1.6 - 1.9', wk30: '1.8; 1.6 - 2.0', wk31: '1.9; 1.7 - 2.0', wk32: '1.9; 1.7 - 2.1', wk33: '1.9; 1.8 - 2.1', wk34: '2.0; 1.8 - 2.2', wk35: '2.0; 1.8 - 2.2', wk36: '2.0; 1.9 - 2.2', wk37: '2.1; 1.9 - 2.2', wk38: '2.1; 1.9 - 2.3', wk39: '2.1; 1.9 - 2.3', wk40: '2.1; 1.9 - 2.3', wk41: '2.1; 2.0 - 2.3', wk42: '2.2; 2.0 - 2.3', wk43: 'n/a', wk44: 'n/a' }, ocanth:{ wk12: '1.4; 1.0 - 1.8', wk13: '1.7; 1.3 - 2.1', wk14: '1.9; 1.5 - 2.3', wk15: '2.2; 1.8 - 2.6', wk16: '2.4; 2.0 - 2.8', wk17: '2.7; 2.3 - 3.1', wk18: '2.9; 2.5 - 3.3', wk19: '3.2; 2.7 - 3.6', wk20: '3.4; 3.0 - 3.8', wk21: '3.6; 3.2 - 4.0', wk22: '3.8; 3.4 - 4.2', wk23: '4.0; 3.6 - 4.4', wk24: '4.2; 3.8 - 4.6', wk25: '4.4; 4.0 - 4.8', wk26: '4.6; 4.2 - 5.0', wk27: '4.8; 4.4 - 5.2', wk28: '4.9; 4.5 - 5.4', wk29: '5.1; 4.7 - 5.5', wk30: '5.3; 4.9 - 5.7', wk31: '5.4; 5.0 - 5.8', wk32: '5.6; 5.2 - 6.0', wk33: '5.7; 5.3 - 6.1', wk34: '5.9; 5.4 - 6.3', wk35: '6.0; 5.6 - 6.4', wk36: '6.1; 5.7 - 6.5', wk37: '6.2; 5.8 - 6.7', wk38: '6.3; 5.9 - 6.8', wk39: '6.4; 6.0 - 6.9', wk40: '6.5; 6.1 - 7.0', wk41: '6.6; 6.2 - 7.1', wk42: '6.7; 6.3 - 7.1', wk43: 'n/a', wk44: 'n/a' } };

    heartval = { trival: { wk14: 'n/a; n/a - n/a', wk15: '0.8; 0.6 - 1.1', wk16: '1.0; 0.7 - 1.2', wk17: '1.1; 0.8 - 1.4', wk18: '1.2; 0.8 - 1.5', wk19: '1.3; 0.9 - 1.6', wk20: '1.4; 1.0 - 1.8', wk21: '1.5; 1.1 - 1.9', wk22: '1.7; 1.2 - 2.1', wk23: '1.8; 1.3 - 2.2', wk24: '1.9; 1.4 - 2.3', wk25: '2.0; 1.5 - 2.5', wk26: '2.1; 1.6 - 2.6', wk27: '2.2; 1.7 - 2.7', wk28: '2.3; 1.8 - 2.9', wk29: '2.5; 1.9 - 3.0', wk30: '2.6; 2.0 - 3.1', wk31: '2.7; 2.1 - 3.2', wk32: '2.8; 2.2 - 3.4', wk33: '2.9; 2.3 - 3.5', wk34: '3.0; 2.5 - 3.6', wk35: '3.1; 2.6 - 3.7', wk36: '3.3; 2.7 - 3.8', wk37: '3.4; 2.8 - 4.0', wk38: '3.5; 2.9 - 4.1', wk39: '3.6; 3.0 - 4.2', wk40: '3.7; 3.2 - 4.3', wk41: '3.8; 3.3 - 4.4', wk42: '3.9; 3.4 - 4.5' , wk43: 'n/a', wk44: 'n/a' }, pulval: { wk14: 'n/a; n/a - n/a', wk15: '0.5; 0.4 - 0.6', wk16: '0.5; 0.4 - 0.7', wk17: '0.6; 0.4 - 0.8', wk18: '0.7; 0.5 - 0.8', wk19: '0.7; 0.5 - 0.9', wk20: '0.8; 0.6 - 1.0', wk21: '0.9; 0.6 - 1.1', wk22: '0.9; 0.7 - 1.1', wk23: '1.0; 0.7 - 1.2', wk24: '1.0; 0.8 - 1.3', wk25: '1.1; 0.8 - 1.4', wk26: '1.2; 0.9 - 1.5', wk27: '1.2; 0.9 - 1.5', wk28: '1.3; 1.0 - 1.6', wk29: '1.4; 1.0 - 1.7', wk30: '1.4; 1.1 - 1.8', wk31: '1.5; 1.2 - 1.8', wk32: '1.6; 1.2 - 1.9', wk33: '1.7; 1.3 - 2.0', wk34: '1.7; 1.3 - 2.1', wk35: '1.8; 1.4 - 2.1', wk36: '1.9; 1.5 - 2.2', wk37: '1.9; 1.5 - 2.3', wk38: '2.0; 1.6 - 2.4', wk39: '2.1; 1.7 - 2.4', wk40: '2.1; 1.8 - 2.5', wk41: '2.2; 1.8 - 2.6', wk42: '2.3; 1.9 - 2.7' , wk43: 'n/a', wk44: 'n/a' }, mitval:{ wk14: 'n/a; n/a - n/a', wk15: '0.8; 0.5 - 1.0', wk16: '0.9; 0.6 - 1.2', wk17: '1.0; 0.7 - 1.3', wk18: '1.1; 0.7 - 1.4', wk19: '1.2; 0.8 - 1.6', wk20: '1.3; 0.9 - 1.7', wk21: '1.4; 1.0 - 1.8', wk22: '1.5; 1.1 - 2.0', wk23: '1.6; 1.1 - 2.1', wk24: '1.7; 1.2 - 2.2', wk25: '1.8; 1.3 - 2.3', wk26: '1.9; 1.4 - 2.4', wk27: '2.0; 1.5 - 2.6', wk28: '2.1; 1.6 - 2.7', wk29: '2.2; 1.7 - 2.8', wk30: '2.3; 1.7 - 2.9', wk31: '2.4; 1.8 - 3.0', wk32: '2.5; 1.9 - 3.1', wk33: '2.6; 2.0 - 3.2', wk34: '2.7; 2.1 - 3.3', wk35: '2.8; 2.2 - 3.4', wk36: '2.9; 2.3 - 3.5', wk37: '3.0; 2.4 - 3.6', wk38: '3.1; 2.5 - 3.7', wk39: '3.2; 2.6 - 3.7', wk40: '3.2; 2.7 - 3.8', wk41: '3.3; 2.8 - 3.9', wk42: '3.4; 2.9 - 4.0' , wk43: 'n/a', wk44: 'n/a' }, aoval:{ wk14: 'n/a; n/a - n/a', wk15: '0.4; 0.3 - 0.6', wk16: '0.5; 0.3 - 0.6', wk17: '0.6; 0.4 - 0.7', wk18: '0.6; 0.4 - 0.8', wk19: '0.7; 0.5 - 0.9', wk20: '0.7; 0.5 - 0.9', wk21: '0.8; 0.6 - 1.0', wk22: '0.9; 0.6 - 1.1', wk23: '0.9; 0.6 - 1.1', wk24: '1.0; 0.7 - 1.2', wk25: '1.0; 0.7 - 1.3', wk26: '1.1; 0.8 - 1.3', wk27: '1.1; 0.8 - 1.4', wk28: '1.2; 0.9 - 1.5', wk29: '1.2; 0.9 - 1.5', wk30: '1.3; 1.0 - 1.6', wk31: '1.3; 1.0 - 1.6', wk32: '1.4; 1.1 - 1.7', wk33: '1.5; 1.1 - 1.7', wk34: '1.5; 1.2 - 1.8', wk35: '1.6; 1.2 - 1.9', wk36: '1.6; 1.3 - 1.9', wk37: '1.7; 1.3 - 2.0', wk38: '1.7; 1.4 - 2.0', wk39: '1.7; 1.4 - 2.1', wk40: '1.8; 1.5 - 2.1', wk41: '1.8; 1.5 - 2.2', wk42: '1.9; 1.5 - 2.2' , wk43: 'n/a', wk44: 'n/a' } };

    placweight = {
        wk21: {_90th: '172', _75th: '158', _50th: '143', _25th: '128', _10th: '114'},
        wk22: {_90th: '191', _75th: '175', _50th: '157', _25th: '138', _10th: '122'},
        wk23: {_90th: '211', _75th: '193', _50th: '172', _25th: '151', _10th: '133'},
        wk24: {_90th: '233', _75th: '212', _50th: '189', _25th: '166', _10th: '145'},
        wk25: {_90th: '256', _75th: '233', _50th: '208', _25th: '182', _10th: '159'},
        wk26: {_90th: '280', _75th: '255', _50th: '227', _25th: '200', _10th: '175'},
        wk27: {_90th: '305', _75th: '278', _50th: '248', _25th: '219', _10th: '192'},
        wk28: {_90th: '331', _75th: '302', _50th: '270', _25th: '238', _10th: '210'},
        wk29: {_90th: '357', _75th: '327', _50th: '293', _25th: '259', _10th: '249'},
        wk30: {_90th: '384', _75th: '352', _50th: '316', _25th: '281', _10th: '249'},
        wk31: {_90th: '411', _75th: '377', _50th: '340', _25th: '303', _10th: '269'},
        wk32: {_90th: '438', _75th: '403', _50th: '364', _25th: '325', _10th: '290'},
        wk33: {_90th: '464', _75th: '428', _50th: '387', _25th: '347', _10th: '311'},
        wk34: {_90th: '491', _75th: '453', _50th: '411', _25th: '369', _10th: '331'},
        wk35: {_90th: '516', _75th: '477', _50th: '434', _25th: '391', _10th: '352'},
        wk36: {_90th: '542', _75th: '501', _50th: '457', _25th: '412', _10th: '372'},
        wk37: {_90th: '566', _75th: '524', _50th: '478', _25th: '432', _10th: '391'},
        wk38: {_90th: '589', _75th: '547', _50th: '499', _25th: '452', _10th: '409'},
        wk39: {_90th: '611', _75th: '567', _50th: '519', _25th: '470', _10th: '426'},
        wk40: {_90th: '632', _75th: '587', _50th: '537', _25th: '487', _10th: '442'},
        wk41: {_90th: '651', _75th: '605', _50th: '553', _25th: '502', _10th: '456'}
    };

// infants and adults
    wt = {male:{yr1m:{body:"4.0, 3-4.9kg",heart:"23, 16-30g",lungs:"64, 43-85g",liver:"140, 100-180g",kidneys:"34, 25-43g",thymus:"7.8, 2.5-13.1g",spleen:"12, 8-16g",adrenal:"5.1, 3.4-6.8g",brain:"460, 413-507g",tv:"2.52, 0.66-4.38 cm",pv:"2.08, 0.83-3.32 cm",mv:"2.64, 0.83-4.44 cm",av:"2.19, 1.35-3.02 cm",rv:"0.16, 0.01-0.31 cm",lv:"0.41, 0.11-0.71 cm"},yr2m:{body:"4.9, 3.8-6kg",heart:"27, 20-34g",lungs:"74, 48-100g",liver:"160, 114-206g",kidneys:"39, 30-48g",thymus:"9.4, 5.0-13.8g",spleen:"15, 10-20g",adrenal:"5, 3.4-6.6g",brain:"506, 439-573g",tv:"2.52, 0.66-4.38 cm",pv:"2.08, 0.83-3.32 cm",mv:"2.64, 0.83-4.44 cm",av:"2.19, 1.35-3.02 cm",rv:"0.16, 0.01-0.31 cm",lv:"0.41, 0.11-0.71 cm"},yr3m:{body:"5.7, 4.5-6.9kg",heart:"30, 23-37g",lungs:"89, 66-112g",liver:"179, 138-220g",kidneys:"45, 35-55g",thymus:"10, 5-15g",spleen:"16, 11-21g",adrenal:"5, 3.7-6.3g",brain:"567, 486-648g",tv:"2.52, 0.66-4.38 cm",pv:"2.08, 0.83-3.32 cm",mv:"2.64, 0.83-4.44 cm",av:"2.19, 1.35-3.02 cm",rv:"0.16, 0.01-0.31 cm",lv:"0.41, 0.11-0.71 cm"},yr4m:{body:"6.4, 5.2-7.8kg",heart:"31, 24-38g",lungs:"96, 69-123g",liver:"195, 154-236g",kidneys:"47, 35-59g",thymus:"10, 4-16g",spleen:"17, 12-22g",adrenal:"4.9, 2.9-6.9g",brain:"620, 549-691g",tv:"2.52, 0.66-4.38 cm",pv:"2.08, 0.83-3.32 cm",mv:"2.64, 0.83-4.44 cm",av:"2.19, 1.35-3.02 cm",rv:"0.16, 0.01-0.31 cm",lv:"0.41, 0.11-0.71 cm"},yr5m:{body:"7, 5.7-8.6kg",heart:"35, 30-40g",lungs:"93, 75-111g",liver:"228, 181-275g",kidneys:"54, 43-65g",thymus:"12, 5-19g",spleen:"18, 11-25g",adrenal:"5.3, 3.4-7.2g",brain:"746, 655-837g",tv:"2.52, 0.66-4.38 cm",pv:"2.08, 0.83-3.32 cm",mv:"2.64, 0.83-4.44 cm",av:"2.19, 1.35-3.02 cm",rv:"0.16, 0.01-0.31 cm",lv:"0.41, 0.11-0.71 cm"},yr6m:{body:"7.6, 6.3-9.3kg",heart:"40, 32-48g",lungs:"115, 84-146g",liver:"259, 201-317g",kidneys:"62, 48-76g",thymus:"10, 4-16g",spleen:"20, 13-27g",adrenal:"5.2, 3.2-7.2g",brain:"762, 689-835g",tv:"2.52, 0.66-4.38 cm",pv:"2.08, 0.83-3.32 cm",mv:"2.64, 0.83-4.44 cm",av:"2.19, 1.35-3.02 cm",rv:"0.16, 0.01-0.31 cm",lv:"0.41, 0.11-0.71 cm"},yr7m:{body:"8.2, 6.7-9.9kg",heart:"43, 35-51g",lungs:"118, 85-151g",liver:"276, 222-330g",kidneys:"69, 55-83g",thymus:"12, 3-21g",spleen:"23, 13-33g",adrenal:"5.5, 3.4-7.6g",brain:"767, 735-799g",tv:"2.52, 0.66-4.38 cm",pv:"2.08, 0.83-3.32 cm",mv:"2.64, 0.83-4.44 cm",av:"2.19, 1.35-3.02 cm",rv:"0.16, 0.01-0.31 cm",lv:"0.41, 0.11-0.71 cm"},yr8m:{body:"8.6, 7.2-10.5kg",heart:"44, 36-52g",lungs:"104, 72-136g",liver:"285, 228-342g",kidneys:"66, 52-80g",thymus:"10, 4-16g",spleen:"20, 13-27g",adrenal:"5.4, 3.1-7.7g",brain:"774, 679-869g",tv:"2.52, 0.66-4.38 cm",pv:"2.08, 0.83-3.32 cm",mv:"2.64, 0.83-4.44 cm",av:"2.19, 1.35-3.02 cm",rv:"0.16, 0.01-0.31 cm",lv:"0.41, 0.11-0.71 cm"},yr9m:{body:"9.1, 7.6-11kg",heart:"45, 38-52g",lungs:"109, 76-142g",liver:"288, 241-335g",kidneys:"67, 51-83g",thymus:"10, 6-14g",spleen:"22, 17-27g",adrenal:"5.4, 3.4-7.4g",brain:"820, 771-869g",tv:"2.52, 0.66-4.38 cm",pv:"2.08, 0.83-3.32 cm",mv:"2.64, 0.83-4.44 cm",av:"2.19, 1.35-3.02 cm",rv:"0.16, 0.01-0.31 cm",lv:"0.41, 0.11-0.71 cm"},yr10m:{body:"9.5, 7.9-11.4kg",heart:"46, 40-52g",lungs:"110, 76-144g",liver:"300, 231-369g",kidneys:"72, 55-89g",thymus:"9, 4-14g",spleen:"24, 13-35g",adrenal:"5.7, 3.6-7.8g",brain:"850, 754-946g",tv:"2.52, 0.66-4.38 cm",pv:"2.08, 0.83-3.32 cm",mv:"2.64, 0.83-4.44 cm",av:"2.19, 1.35-3.02 cm",rv:"0.16, 0.01-0.31 cm",lv:"0.41, 0.11-0.71 cm"},yr11m:{body:"9.8, 8.2-11.8kg",heart:"48, 41-55g",lungs:"130, 99-161g",liver:"305, 224-386g",kidneys:"76, 57-95g",thymus:"19, 15-23g",spleen:"28, 18-38g",adrenal:"6.1, 4.3-7.9g",brain:"875, 786-964g",tv:"2.52, 0.66-4.38 cm",pv:"2.08, 0.83-3.32 cm",mv:"2.64, 0.83-4.44 cm",av:"2.19, 1.35-3.02 cm",rv:"0.16, 0.01-0.31 cm",lv:"0.41, 0.11-0.71 cm"},yr12m:{body:"10.2, 8.5-12.2kg",heart:"50, 44-56g",lungs:"116, 93-139g",liver:"325, 286-364g",kidneys:"76, 63-89g",thymus:"12, 7-17g",spleen:"28, 21-35g",adrenal:"6.3, 4.1-8.5g",brain:"954, 919-989g",tv:"4.53, 2.67-6.39 cm",pv:"3.03,  1.78-4.27 cm",mv:"4.05, 2.24-5.86 cm",av:"3.04, 2.20-3.87 cm",rv:"0.21, 0.04-0.37 cm",lv:"0.61, 0.31-0.91 cm"},yr2:{body:"12.6, 10.6-15.1kg",heart:"66.4, 62.2-70.7g",rlung:"107.6, 92.9-122g",llung:"90.5, 78.1-103g",liver:"503.9, 441-567g",rkid:"45.7, 40.6-50.9g",lkid:"47.3, 42.2-52.5g",spleen:"42.6, 38.2-47.0g",brain:"1149.2, 1083-1215g",tv:"5.61, 3.75-7.47 cm",pv:"3.54, 2.29-4.78 cm",mv:"4.81, 3.00-6.62 cm",av:"3.45, 2.65-4.32 cm",rv:"0.24, 0.07-0.40 cm"},yr3:{body:"14.3, 12-17.3kg",heart:"75.7, 70.4-80.9g",rlung:"128.5, 100-157g",llung:"118, 88.4-148g",liver:"599.1, 539-659g",rkid:"53.2, 47.7-58.7g",lkid:"55, 49.5-60.5g",spleen:"54.8, 44.7-64.9g",brain:"1257.4, 1198-1317g",tv:"6.34, 4.48-8.20 cm",pv:"3.89, 2.64-5.13 cm",mv:"5.33, 3.52-7.13 cm",av:"3.8, 2.96-4.63 cm",rv:"0.26, 0.09-0.43 cm",lv:"0.79, 0.49-1.09 cm"},yr4:{body:"16.1, 13.5-20kg",heart:"83.3, 73.8-92.9g",rlung:"150.5, 90.9-210g",llung:"125.0, 86.1-164g",liver:"588.2, 536-640g",rkid:"53.8, 47.9-59.8g",lkid:"55.9, 50.7-61.1g",spleen:"58.7, 46.3-71.2g",brain:"1296.4, 1217-1376g",tv:"6.91, 5.04-8.77 cm",pv:"4.15, 2.91-5.40 cm",mv:"5.72, 3.91-7.53 cm",av:"4.04, 3.20-4.87 cm",rv:"0.28, 0.11-0.44 cm",lv:"0.84, 0.55-1.14 cm"},yr5:{body:"18.3, 15.1-23.2kg",heart:"94.9, 86.8-103g",rlung:"160.6, 126-195g",llung:"141.5, 107-176g",liver:"652, 604-700g",rkid:"56.1, 51.0-61.2g",lkid:"57.6, 52.6-62.7g",spleen:"56.8, 46.9-66.7g",brain:"1363.5, 1292-1435g",tv:"7.36, 5.50-9.22 cm",pv:"4.37, 3.12-5.61 cm",mv:"6.04, 4.23-7.85 cm",av:"4.23, 3.39-5.06 cm",rv:"0.29, 0.12-0.46 cm"},yr6:{body:"20.6, 16.8-26.7kg",heart:"115.9, 101-131g",rlung:"159.3, 121-198g",llung:"141.4, 109-174g",liver:"709.8, 636-784g",rkid:"69.4, 59.5-79.3g",lkid:"72.3, 62.4-82.1g",spleen:"69.3, 57.2-81.5g",brain:"1416.6, 1330-1504g",tv:"7.74, 5.88-9.60 cm",pv:"4.55, 3.30-5.79 cm",mv:"6.31, 4.50-8.12  cm",av:"4.39, 3.55-5.22 cm",rv:"0.3, 0.13-0.47 cm",lv:"0.93, 0.63-1.22 cm"},yr7:{body:"23, 18.6-30.6kg",heart:"106.6, 95.4-118g",rlung:"203.1, 175-232g",llung:"189.6, 161-219g",liver:"752.6, 672-833g",rkid:"68.4, 59.6-77.1g",lkid:"67.8, 59.9-75.7g",spleen:"103.3, 66.5-140g",brain:"1381.4, 1194-1569g",tv:"8.07, 6.21-9.93 cm",pv:"4.7, 3.46-5.95 cm",mv:"6.54, 4.73-8.35 cm",av:"4.53, 3.69-5.36 cm",rv:"0.31, 0.14-0.48 cm",lv:"0.96, 0.66-1.26 cm"},yr8:{body:"25.5, 20.5-34.9kg",heart:"131.7, 117-146g",rlung:"187.7, 156-220g",llung:"187.2, 155-220g",liver:"847.1, 725-969g",rkid:"76.3, 66.9-85.8g",lkid:"77.7, 68.2-87.1g",spleen:"73.1, 60.8-85.3g",brain:"1336.2, 1253-1420g",tv:"8.36, 6.50-10.22 cm",pv:"4.84, 3.59-6.08 cm",mv:"6.74, 4.93-8.55 cm",av:"4.65, 3.81-5.48 cm",rv:"0.32, 0.15-0.49 cm",lv:"0.99, 0.69-1.28 cm"},yr9:{body:"28.4, 22.5-39.9kg",heart:"131.1, 116-146g",rlung:"253.7, 163-345g",llung:"228.1, 130-327g",liver:"855.3, 792-919g",rkid:"78.7, 68.7-88.6g",lkid:"80.7, 70.1-91.3g",spleen:"90.9, 61.9-120g",brain:"1370, 1222-1518g",tv:"8.61, 6.75-10.48 cm",pv:"4.96, 3.71-6.21 cm",mv:"6.92, 5.12-8.73 cm",av:"4.76, 3.92-5.59 cm",rv:"0.33, 0.16-0.49 cm",lv:"1.01, 0.71-1.31 cm"},yr10:{body:"31.8, 24.7-45.6kg",heart:"158.5, 139-178g",rlung:"250.4, 202-299g",llung:"213.2, 179-248g",liver:"956.9, 861-1053g",rkid:"87.2, 76.7-97.7g",lkid:"91.2, 80.3-102g",spleen:"111.3, 82.7-140g",brain:"1349.6, 1177-1522g",tv:"8.85, 6.99-10.71 cm",pv:"5.07, 3.82-6.32 cm",mv:"7.09, 5.28-8.89 cm",av:"4.85, 4.02-5.69 cm",rv:"0.33, 0.17-0.50 cm",lv:"1.03, 0.74-1.33 cm"},yr11:{body:"35.7, 27.3-52kg",heart:"170.2, 147-194g",rlung:"270.8, 239-303g",llung:"257.2, 178-337g",liver:"1060.2, 883-1237g",rkid:"90, 78.9-101g",lkid:"91.3, 78.8-104g",spleen:"90, 62.0-118g",brain:"1390.6, 1272-1509g",tv:"9.06, 7.20-10.92 cm",pv:"5.17, 3.92-6.42 cm",mv:"7.24, 5.43-9.04 cm",av:"4.94, 4.11-5.78 cm",rv:"0.34, 0.17-0.51 cm"},yr12:{body:"40.3, 30.3-58.7kg",heart:"178.6, 159-198g",rlung:"349.6, 264-436g",llung:"286, 212-360g",liver:"1075.2, 902-1249g",rkid:"106.1, 95.9-116g",lkid:"106.6, 97.0-116g",spleen:"114.7, 90.6-139g",brain:"1330.5, 1081-1580g",tv:"9.25, 7.39-11.11 cm",pv:"5.26, 4.02-6.51 cm",mv:"7.37, 5.56-9.18 cm",av:"5.02, 4.19-5.86 cm",rv:"0.35, 0.18-0.51 cm",lv:"1.07, 0.78-1.37 cm"},yr13:{body:"45.4, 33.9-65.5kg",heart:"195.6, 173-218g",rlung:"375.5, 272-479g",llung:"328.8, 245-413g",liver:"1201.4, 1063-1340g",rkid:"98, 86.8-109g",lkid:"103.2, 90.5-116g",spleen:"138.7, 83.3-194g",brain:"1370.5, 1214-1527g",tv:"9.43, 7.57-11.29 cm",pv:"5.35, 4.10-6.59 cm",mv:"7.5, 5.69-9.31 cm",av:"5.1, 4.27-5.93 cm",rv:"0.35, 0.19-0.52 cm",lv:"1.09, 0.79-1.39 cm"},yr14:{body:"50.8, 38.1-72.2kg",heart:"213.1, 189-237g",rlung:"375.8, 285-467g",llung:"361.2, 288-435g",liver:"1204.2, 1095-1313g",rkid:"113.4, 102-125g",lkid:"116.8, 104-130g",spleen:"151.2, 111-191g",brain:"1497.1, 1415-1580g",tv:"9.6, 7.74-11.46 cm",pv:"5.43, 4.18-6.67 cm",mv:"7.62, 5.81-9.42 cm",av:"5.17, 4.34-6.00 cm",rv:"0.36, 0.19-0.52 cm",lv:"1.11, 0.81-1.41 cm"},yr15:{body:"56.1, 42.6-78.3kg",heart:"232.3, 204-260g",rlung:"448, 348-548g",llung:"420, 310-530g",liver:"1360.6, 1247-1475g",rkid:"130.2, 114-146g",lkid:"130.7, 116-146g",spleen:"155.3, 119-191g",brain:"1446.1, 1404-1528g",tv:"9.76, 7.89-11.62 cm",pv:"5.5, 4.25-6.74 cm",mv:"7.73, 5.92-9.53 cm",av:"5.24, 4.40-6.07 cm",rv:"0.36, 0.20-0.53 cm",lv:"1.12, 0.83-1.42 cm"},yr16:{body:"60.7, 47-83.9kg",heart:"258.8, 240-278g",rlung:"406.6, 317-496g",llung:"365.6, 292-439g",liver:"1646.9, 1506-1787g",rkid:"134, 123-145g",lkid:"133.8, 121-146g",spleen:"165.1, 135-195g",brain:"1399.8, 1293-1507g",tv:"9.9, 8.04-11.76 cm",pv:"5.57, 4.32-6.81 cm",mv:"7.83, 6.02-9.64 cm",av:"5.3, 4.46-6.13 cm",rv:"0.37, 0.20-0.53 cm",lv:"1.14, 0.84-1.44 cm"},yr17:{body:"64.4, 50.6-88.5kg",heart:"278.4, 262-295g",rlung:"527.5, 451-604g",llung:"487.7, 411-564g",liver:"1589, 1486-1692g",rkid:"140.3, 130-151g",lkid:"150.6, 138-163g",spleen:"212.7, 165-261g",brain:"1466.3, 1416-1516g",tv:"10.04, 8.18-11.90 cm",pv:"5.63, 4.39-6.88 cm",mv:"7.93, 6.12-9.73 cm",av:"5.36, 4.52-6.19 cm",rv:"0.37, 0.20-0.54 cm",lv:"1.15, 0.85-1.45 cm"},yr18:{body:"67.1, 53.1-91.8kg",heart:"279.4, 263-296g",rlung:"460, 370-550g",llung:"403.2, 323-483g",liver:"1705.7, 1610-1802g",rkid:"153.4, 141-166g",lkid:"156.9, 145-169g",spleen:"181, 156-206g",brain:"1446, 1391-1501g",tv:"10.17, 8.31-12.03 cm",pv:"5.7, 4.45-6.94 cm",mv:"8.02, 6.21-9.83 cm",av:"5.41, 4.58-6.25 cm",rv:"0.37, 0.21-0.54 cm",lv:"1.16, 0.87-1.46 cm"},yr19:{body:"69.1, 54.7-93.9kg",heart:"294.9, 272-318g",rlung:"593.8, 498-689g",llung:"497, 436-558g",liver:"1672.9, 1563-1783g",rkid:"147.5, 139-156g",lkid:"152, 143-161g",spleen:"195.6, 167-225g",brain:"1446.6, 1395-1498g",tv:"10.29, 8.43-12.15 cm",pv:"5.75, 4.51-7.00 cm",mv:"8.1, 6.30-9.91 cm",av:"5.46, 4.63-6.30 cm",rv:"0.38, 0.21-0.55 cm",lv:"1.18, 0.88-1.47 cm"}},female:{yr1m:{body:"3.8, 2.9-4.6kg",heart:"21, 16-26g",lungs:"64, 37-91g",liver:"139, 108-170g",kidneys:"31, 23-39g",thymus:"6.6, 1.7-11.5g",spleen:"11, 7-15g",adrenal:"4.8, 2.9-6.7g",brain:"433, 374-492g",tv:"2.52, 0.66-4.38 cm",pv:"2.08, 0.83-3.32 cm",mv:"2.64, 0.83-4.44 cm",av:"2.19, 1.35-3.02 cm",rv:"0.16, 0.01-0.31 cm",lv:"0.41, 0.11-0.71 cm"},yr2m:{body:"4.5, 3.5-5.5kg",heart:"26, 20-32g",lungs:"74, 51-97g",liver:"159, 128-190g",kidneys:"36, 26-46g",thymus:"5.8, 1.1-10.5g",spleen:"14, 9-19g",adrenal:"4.7, 3.3-6.1g",brain:"490, 439-541g",tv:"2.52, 0.66-4.38 cm",pv:"2.08, 0.83-3.32 cm",mv:"2.64, 0.83-4.44 cm",av:"2.19, 1.35-3.02 cm",rv:"0.16, 0.01-0.31 cm",lv:"0.41, 0.11-0.71 cm"},yr3m:{body:"5.2, 4.2-6.3kg",heart:"28, 24-32g",lungs:"81, 67-95g",liver:"183, 144-222g",kidneys:"42, 30-54g",thymus:"9.7, 2.8-16.6g",spleen:"15, 10-20g",adrenal:"4.8, 3.4-6.2g",brain:"525, 436-614g",tv:"2.52, 0.66-4.38 cm",pv:"2.08, 0.83-3.32 cm",mv:"2.64, 0.83-4.44 cm",av:"2.19, 1.35-3.02 cm",rv:"0.16, 0.01-0.31 cm",lv:"0.41, 0.11-0.71 cm"},yr4m:{body:"5.9, 4.7-7.1kg",heart:"30, 24-36g",lungs:"91, 67-115g",liver:"204, 155-253g",kidneys:"50, 39-61g",thymus:"9, 1.7-16.3g",spleen:"17, 12-22g",adrenal:"4.6, 2.5-6.7g",brain:"595, 515-675g",tv:"2.52, 0.66-4.38 cm",pv:"2.08, 0.83-3.32 cm",mv:"2.64, 0.83-4.44 cm",av:"2.19, 1.35-3.02 cm",rv:"0.16, 0.01-0.31 cm",lv:"0.41, 0.11-0.71 cm"},yr5m:{body:"6.4, 5.2-7.8kg",heart:"36, 31-41g",lungs:"102, 80-124g",liver:"227, 189-265g",kidneys:"52, 39-65g",thymus:"13, 8-18g",spleen:"19, 14-24g",adrenal:"4.8, 2.6-7.0g",brain:"725, 663-787g",tv:"2.52, 0.66-4.38 cm",pv:"2.08, 0.83-3.32 cm",mv:"2.64, 0.83-4.44 cm",av:"2.19, 1.35-3.02 cm",rv:"0.16, 0.01-0.31 cm",lv:"0.41, 0.11-0.71 cm"},yr6m:{body:"7, 5.7-8.4kg",heart:"37, 30-44g",lungs:"111, 81-141g",liver:"242, 184-300g",kidneys:"58, 38-78g",thymus:"10, 4-16g",spleen:"18, 10-26g",adrenal:"4.6, 3.1-6.1g",brain:"730, 645-815g",tv:"2.52, 0.66-4.38 cm",pv:"2.08, 0.83-3.32 cm",mv:"2.64, 0.83-4.44 cm",av:"2.19, 1.35-3.02 cm",rv:"0.16, 0.01-0.31 cm",lv:"0.41, 0.11-0.71 cm"},yr7m:{body:"7.5, 6.1-9kg",heart:"40, 31-49g",lungs:"111, 73-149g",liver:"272, 221-323g",kidneys:"65, 51-79g",thymus:"10, 2-18g",spleen:"22, 14-30g",adrenal:"5.5, 3.3-7.7g",brain:"750, 658-842g",tv:"2.52, 0.66-4.38 cm",pv:"2.08, 0.83-3.32 cm",mv:"2.64, 0.83-4.44 cm",av:"2.19, 1.35-3.02 cm",rv:"0.16, 0.01-0.31 cm",lv:"0.41, 0.11-0.71 cm"},yr8m:{body:"7.9, 6.5-9.5kg",heart:"41, 34-48g",lungs:"109, 74-144g",liver:"276, 222-330g",kidneys:"60, 47-73g",thymus:"8, 3-13g",spleen:"20, 11-29g",adrenal:"5.3, 3.0-7.6g",brain:"770, 674-866g",tv:"2.52, 0.66-4.38 cm",pv:"2.08, 0.83-3.32 cm",mv:"2.64, 0.83-4.44 cm",av:"2.19, 1.35-3.02 cm",rv:"0.16, 0.01-0.31 cm",lv:"0.41, 0.11-0.71 cm"},yr9m:{body:"8.3, 6.9-10kg",heart:"41, 34-46g",lungs:"105, 77-133g",liver:"288, 221-355g",kidneys:"62, 52-72g",thymus:"9, 4-14g",spleen:"18, 12-24g",adrenal:"5.4, 3.9-6.9g",brain:"810, 728-892g",tv:"2.52, 0.66-4.38 cm",pv:"2.08, 0.83-3.32 cm",mv:"2.64, 0.83-4.44 cm",av:"2.19, 1.35-3.02 cm",rv:"0.16, 0.01-0.31 cm",lv:"0.41, 0.11-0.71 cm"},yr10m:{body:"8.7, 7.2-10.4kg",heart:"43, 36-50g",lungs:"105, 84-126g",liver:"284, 236-332g",kidneys:"66, 56-76g",thymus:"12, 5-19g",spleen:"25, 14-36g",adrenal:"5.7, 4.0-7.4g",brain:"830, 713-947g",tv:"2.52, 0.66-4.38 cm",pv:"2.08, 0.83-3.32 cm",mv:"2.64, 0.83-4.44 cm",av:"2.19, 1.35-3.02 cm",rv:"0.16, 0.01-0.31 cm",lv:"0.41, 0.11-0.71 cm"},yr11m:{body:"9, 7.6-10.8kg",heart:"44, 36-52g",lungs:"125, 94-156g",liver:"292, 256-328g",kidneys:"68, 54-82g",thymus:"15, 7-23g",spleen:"23, 14-30g",adrenal:"6.2, 4.2-8.2g",brain:"875, 811-939g",tv:"2.52, 0.66-4.38 cm",pv:"2.08, 0.83-3.32 cm",mv:"2.64, 0.83-4.44 cm",av:"2.19, 1.35-3.02 cm",rv:"0.16, 0.01-0.31 cm",lv:"0.41, 0.11-0.71 cm"},yr12m:{body:"9.4, 7.9-11.2kg",heart:"49, 43-54g",lungs:"115, 81-149g",liver:"315, 277-353g",kidneys:"72, 53-91g",thymus:"11, 3-19g",spleen:"27, 18-36g",adrenal:"6, 4.6-7.4g",brain:"886, 822-950g",tv:"4.68, 2.80-6.56 cm",pv:"3.02, 1.97-4.07 cm",mv:"4.04, 2.57-5.57 cm",av:"2.95, 2.11-3.79 cm",rv:"0.25, 0.08-0.38 cm",lv:"0.72, 0.38-0.92 cm"},yr2:{body:"12, 10.1-14.5kg",heart:"55, 50.3-59.7g",rlung:"116.4, 88.5-144g",llung:"103, 83.1-123g",liver:"413.7, 304-524g",rkid:"37.4, 34.2-40.5g",lkid:"39.5, 36.1-42.9g",spleen:"42, 34.8-49.2g",brain:"1090.3, 1027-1154g",tv:"5.58, 3.70-7.46 cm",pv:"3.47, 2.42-4.52 cm",mv:"4.74, 3.25-6.24 cm",av:"3.37, 2.53-4.21 cm",rv:"0.25, 0.10-0.39 cm",lv:"0.72, 0.46-0.99 cm"},yr3:{body:"13.8, 11.5-17.1kg",heart:"64.9, 60.0-69.7g",rlung:"121.9, 108-136g",llung:"104.3, 86.5-122g",liver:"505.3, 449-561g",rkid:"47.5, 43.3-51.6g",lkid:"48.4, 44.6-52.2g",spleen:"41.8, 36.2-47.3g",brain:"1211.1, 1112-1310g",tv:"6.2, 4.31-8.08 cm",pv:"3.77, 2.72-4.82 cm",mv:"5.21, 3.71-6.70 cm",av:"3.66, 2.82-4.50 cm",rv:"0.26, 0.11-0.41 cm",lv:"0.77, 0.51-1.04 cm"},yr4:{body:"15.7, 13-20.1kg",heart:"77.5, 69.5-85.6g",rlung:"132.4, 111-153g",llung:"115.7, 100-131g",liver:"527.4, 474-581g",rkid:"51.1, 46.3-55.9g",lkid:"52.8, 47.2-58.4g",spleen:"49.3, 40.0-58.5g",brain:"1204, 1131-1277g",tv:"6.67, 4.78-8.55 cm",pv:"4.01, 2.96-5.06 cm",mv:"5.56, 4.06-7.06 cm",av:"3.88, 3.01-4.72 cm",rv:"0.27, 0.12-0.41 cm",lv:"0.81, 0.55-1.08 cm"},yr5:{body:"17.8, 14.6-23.5kg",heart:"85.2, 72.1-98.3g",rlung:"156.1, 106-206g",llung:"142, 102-182g",liver:"553.4, 475-632g",rkid:"54.7, 48.6-60.7g",lkid:"54.7, 49.8-59.6g",spleen:"50.7, 41.5-59.8g",brain:"1261, 1167-1355g",tv:"7.05, 5.17-8.93 cm",pv:"4.19, 3.14-5.24 cm",mv:"5.84, 4.34-7.34 cm",av:"4.06, 3.22-4.89  cm",rv:"0.27, 0.13-0.42 cm",lv:"0.84, 0.58-1.11 cm"},yr6:{body:"20.1, 16.3-27.1kg",heart:"96.9, 90.3-104g",rlung:"178.7, 151-206g",llung:"169.7, 141-199g",liver:"618.7, 557-680g",rkid:"65.3, 54.9-69.8g",lkid:"64.2, 56.6-71.8g",spleen:"67.2, 56.5-77.8g",brain:"1263, 1214-1312g",tv:"7.37, 5.48-9.25 cm",pv:"4.35, 3.30-5.40 cm",mv:"6.08, 4.58-7.58 cm",av:"4.2, 3.37-5.04 cm",rv:"0.28, 0.13-0.43 cm",lv:"0.87, 0.60-1.14 cm"},yr7:{body:"22.6, 18.1-31.1kg",heart:"107, 92.2-122g",rlung:"211, 145-277g",llung:"159.8, 124-195g",liver:"612, 535-689g",rkid:"72.6, 60.5-84.6g",lkid:"74.3, 62.4-86.3g",spleen:"64.2, 48.4-80.0g",brain:"1211, 1079-1343g",tv:"7.64, 5.76-9.53 cm",pv:"4.49, 3.49-5.54 cm",mv:"6.28, 4.79-7.78 cm",av:"4.33, 3.49-5.17 cm",rv:"0.28, 0.14-0.43 cm",lv:"0.89, 0.63-1.16 cm"},yr8:{body:"25.5, 20-35.8kg",heart:"126, 102-150g",rlung:"232.7, 156-309g",llung:"204.2, 156-253g",liver:"752.3, 671-834g",rkid:"76.3, 63.1-89.6g",lkid:"81.2, 63.4-99.0g",spleen:"94.3, 66.9-122g",brain:"1296, 1207-1384g",tv:"7.88, 6.00-9.77 cm",pv:"4.61, 3.56-5.66 cm",mv:"6.46, 4.97-7.96 cm",av:"4.45, 3.61-5.28 cm",rv:"0.29, 0.14-0.43 cm",lv:"0.91, 0.65-1.18 cm"},yr9:{body:"28.8, 22.1-41.3kg",heart:"135.3, 118-153g",rlung:"212.2, 165-259g",llung:"175.5, 136-215g",liver:"911.8, 797-1027g",rkid:"73.8, 66.6-81.1g",lkid:"81.2, 70.9-91.5g",spleen:"80.9, 66.9-94.9g",brain:"1235, 1112-1358g",tv:"8.1, 6.22-9.98 cm",pv:"4.72, 3.67-5.77 cm",mv:"6.63,  5.13-8.13 cm",av:"4.55, 3.71-5.38 cm",rv:"0.29, 0.15-0.44 cm",lv:"0.93, 0.66-1.20 cm"},yr10:{body:"32.7, 24.6-47.6kg",heart:"117, 97.3-137g",rlung:"251, 82.8-419g",llung:"218, 65.0-371g",liver:"845.6, 724-967g",rkid:"89.3, 65.4-113g",lkid:"88.6, 64.4-113g",spleen:"90, 60.7-119g",brain:"1299, 1144-1454g",tv:"8.29, 6.41-10.18 cm",pv:"4.81, 3.76-5.86 cm",mv:"6.77, 5.27-8.27 cm",av:"4.64, 3.88-5.47 cm",rv:"0.3, 0.15-0.45 cm",lv:"0.95, 0.68-1.21 cm"},yr11:{body:"37, 27.6-54.4kg",heart:"155, 117-193g",rlung:"247.5, 215-280g",llung:"232.5, 197-268g",liver:"1095, 999-1191g",rkid:"93.3, 77.9-109g",lkid:"93.2, 77.1-109g",spleen:"87.5, 62.8-112g",brain:"1233, 1147-1318g",tv:"8.47, 6.59-10.35 cm",pv:"4.9, 3.85-5.95 cm",mv:"6.9, 5.40-8.40 cm",av:"4.72, 3.92-5.56 cm",rv:"0.3, 0.15-0.45 cm"},yr12:{body:"41.5, 30.9-61.1kg",heart:"170.4, 136-205g",rlung:"205, 121-289g",llung:"182.5, 110-255g",liver:"989.1, 797-1182g",rkid:"91.5, 67.9-115g",lkid:"93, 68.8-117g",spleen:"89, 68.8-109g",brain:"1338, 1199-1476g",tv:"8.63, 6.75-10.52 cm",pv:"4.98, 3.93-6.03 cm",mv:"7.02, 5.53-8.52 cm",av:"4.79, 3.96-5.63 cm",rv:"0.3, 0.16-0.45 cm",lv:"0.97, 0.71-1.24 cm"},yr13:{body:"45.7, 34.3-67.1kg",heart:"177, 158-196g",rlung:"345.8, 286-405g",llung:"297, 253-341g",liver:"1050.2, 913-1187g",rkid:"101.5, 90.4-113g",lkid:"108.2, 96.9-120g",spleen:"129, 98.3-160g",brain:"1297, 1045-1548g",tv:"8.78, 6.90-10.67 cm",pv:"5.06, 4.01-6.11 cm",mv:"7.14, 5.64-8.64 cm",av:"4.86, 4.03-5.70  cm",rv:"0.31, 0.16-0.46 cm",lv:"0.99, 0.72-1.25 cm"},yr14:{body:"49.2, 37.7-72kg",heart:"207.8, 179-237g",rlung:"263.5, 178-349g",llung:"237.1, 151-323g",liver:"1194.5, 1082-1308g",rkid:"105.2, 97.0-113g",lkid:"113.8, 104-124g",spleen:"162.8, 111-215g",brain:"1293, 1180-1405g",tv:"8.92, 7.04-10.81 cm",pv:"5.12, 4.07-6.17 cm",mv:"7.24, 5.74-8.74 cm",av:"4.93, 4.09 -5.77 cm",rv:"0.31, 0.16-0.46 cm",lv:"1, 0.73-1.26 cm"},yr15:{body:"51.9, 40.6-75.6kg",heart:"190.3, 173-208g",rlung:"363.1, 300-426g",llung:"282.7, 237-328g",liver:"1307.6, 1197-1418g",rkid:"113.2, 101-126g",lkid:"118.4, 108-129g",spleen:"129.2, 97.3-161g",brain:"1379, 1255-1504g",tv:"9.05, 7.17-10.94  cm",pv:"5.19, 4.14-6.24 cm",mv:"7.34, 5.84-8.84 cm",av:"4.99, 4.15-5.83 cm",rv:"0.31, 0.16-0.46 cm"},yr16:{body:"53.8, 42.8-77.9kg",heart:"229.1, 200-258g",rlung:"464.1, 233-695g",llung:"430.8, 194-668g",liver:"1347.5, 1134-1561g",rkid:"122.3, 105-140g",lkid:"127.6, 111-144g",spleen:"219, 160-278g",brain:"1266, 1159-1373g",tv:"9.18, 7.29-11.06 cm",pv:"5.25, 4.20-6.30 cm",mv:"7.43, 5.93-8.93 cm",av:"5.05, 4.21-5.89 cm",rv:"0.31, 0.17-0.46 cm",lv:"1.02, 0.75-1.28 cm"},yr17:{body:"55.1, 44.3-79.4kg",heart:"230.1, 211-250g",rlung:"475, 360-590g",llung:"391.4, 305-478g",liver:"1398.4, 1251-1546g",rkid:"129.2, 119-139g",lkid:"134.8, 123-147g",spleen:"158, 141-175g",brain:"1275, 1209-1340g",tv:"9.29, 7.41-11.17 cm",pv:"5.31, 4.26-6.36 cm",mv:"7.52, 6.02-9.02 cm",av:"5.1, 4.26-5.94 cm",rv:"0.32, 0.17-0.46 cm"},yr18:{body:"56.1, 45.3-80.6kg",heart:"235.1, 217-254g",rlung:"415, 288-542g",llung:"326.2, 227-425g",liver:"1504.4, 1351-1658g",rkid:"123.9, 117-131g",lkid:"129.3, 121-138g",spleen:"146.4, 121-172g",brain:"1292, 1245-1338g",tv:"9.4, 7.52-11.28 cm",pv:"5.36, 4.31-6.41 cm",mv:"7.6, 6.10-9.10 cm",av:"5.15, 4.32-5.99 cm",rv:"0.32, 0.17-0.47 cm",lv:"1.04, 0.77-1.30 cm"},yr19:{body:"57.3, 45.9-81.9kg",heart:"231, 212-250g",rlung:"456.1, 328-585g",llung:"377.3, 291-464g",liver:"1456.3, 1350-1562g",rkid:"129, 119-139g",lkid:"130.6, 120-142g",spleen:"156.5, 117-196g",brain:"1288, 1217-1359g",tv:"9.5, 7.62-11.39 cm",pv:"5.41, 4.36-6.46 cm",mv:"7.67, 6.18-9.17 cm",av:"5.2, 4.36-6.04 cm",rv:"0.32, 0.17-0.47 cm",lv:"1.04, 0.78-1.31 cm"}}};

// adjust visible weights boxes based on age
    $("#box2").on("change", function(){
        var sel = $(this).find(":selected").data("type");

        if (sel == "stillb"){
            $(".stillb").show();
            $(".meas").css('visibility', 'visible');
            $(".infant").hide();
            $(".nonstillb").hide();
        } else if (sel == "infant"){
            $(".stillb").hide();
            $(".meas").css('visibility', 'visible');
            $(".infant").show();
            $(".nonstillb").hide();
        } else {
            $(".stillb").hide();
            $(".meas").css('visibility', 'hidden');
            $(".infant").hide();
            $(".nonstillb").show();
        }

    });

// callback to fill and create weights data table

function make_data(datatable) {
        console.log("make_data fired");
        // gender
        var gend = $("#sex").val();
        // age
        var age = parseFloat($("#box2").val());
        // datatype
        var data = ($("#box2").find(":selected").data("type"));
        console.log(gend+ '\n\n' + age+ '\n\n' +data);

        // weights
        var wt_body = Number($("#box10").val()); // body
        var wt_heart = Number($("#box11").val()); // heart
        var wt_rlung = Number($("#box12").val()); // R lung
        var wt_llung = Number($("#box13").val()); // L lung
        var wt_lungs = wt_rlung+wt_llung;
        var wt_liver = Number($("#box14").val()); // Liver
        var wt_rkid = Number($("#box15").val()); // R Kidney
        var wt_lkid = Number($("#box16").val()); // L Kidney
        var wt_kidneys = wt_rkid+wt_lkid;
        var wt_rad = Number($("#box17").val()); // R Adrenal
        var wt_lad = Number($("#box18").val()); // L Adrenal
        var wt_ads = wt_rad+wt_lad;
        var wt_gonads = Number($("#box19").val()); // Uterus
        var wt_thymus = Number($("#box20").val()); // Thymus
        var wt_spleen = Number($("#box21").val()); // Spleen
        var wt_brain = Number($("#box22").val()); // Brain
        var wt_plac = Number($("#box23").val()); // Placenta

        // Measurements
        var ms_ch = Number($("#box30").val()); // crownheel
        var ms_cr = Number($("#box31").val()); // cr-rump
        var ms_hc = Number($("#box32").val()); // head circ
        var ms_cc = Number($("#box33").val()); // chest circ
        var ms_ac = Number($("#box34").val()); // abd circ
        var ms_fl = Number($("#box35").val()); // foot length
        var ms_ic = Number($("#box36").val()); // inner canth
        var ms_oc = Number($("#box37").val()); // out canth
        var ms_pup = Number($("#box38").val()); // pupil
        var ms_tv = Number($("#box39").val()); // heart TV
        var ms_pv = Number($("#box40").val()); // heart pv
        var ms_mv = Number($("#box41").val()); // heart mv
        var ms_av = Number($("#box42").val()); // heart av
        var ms_rv = Number($("#box43").val()); // rv
        var ms_lv = Number($("#box44").val()); // lv

        // for stillbirths
        if (data == "stillb"){
            // get placenta percentages
            var wkObj = placweight['wk' + age]; // get plac object data
            if (wkObj) {
                console.log(wkObj);
                var percentiles = $.map(wkObj, function (value, key) {
                    return {
                        wt_plac: Number(value),
                        percentile: key.substr(1)
                    };
                }).sort(function (a, b) {
                    return a.wt_plac - b.wt_plac; // ascending sort returned array
                });

                var upperIndex = -1;

                $.each(percentiles, function (i, obj) {
                    if (obj.wt_plac > wt_plac) {
                        // when the percentiles[wt_plac] value first exceeds the user plac wt,
                        // return the index position and stop the function
                        upperIndex = i;
                        // if user plac wt is greater than all percentile weights, upperIndex remains -1
                        return false;
                    }
                });

                console.log("Upper Index: "+upperIndex);

                var lower, upper;
                var plac_range;
                if (upperIndex > 0) { // meaning, if user plac wt falls between 0 and 90th pctille
                    lower = percentiles[upperIndex - 1].percentile; // assign bottom delimiter
                    upper = percentiles[upperIndex].percentile; // assgn upper delimiter
                    plac_range = (wt_plac+"(g)").padEnd(16, ".")+"[Between "+lower+" & "+upper+" %iles]";
                } else if (upperIndex === 0) { // meaning, user plac wt falls below 10th pctiles
                    upper = percentiles[upperIndex].percentile;
                    plac_range = (wt_plac+"(g)").padEnd(16, ".")+"[< "+upper+" %ile]";
                } else { // meaning, user plac wt falls above 90th pctiles
                    lower = percentiles[percentiles.length - 1].percentile;
                    plac_range = (wt_plac+"(g)").padEnd(16, ".")+"[> "+lower+" %tile]";
                }

            } else { // when reference ranges aren't available
                plac_range = "No reference data available";
            }

            var datatable = "Weights and Measurements Summary\n";

            datatable +=
                "Gestational age: "+age+" weeks\nData represented as 'value [expected mean; expected range]'\n\n"+

                "Fetal Measurements with reference ranges: \n"+
                "Item".padEnd(16)+"Value".padEnd(16)+"Reference"+
                "\n".padEnd(50, "-") +
                "\nCrown-Heel".padEnd(16, ".")+(ms_ch+" (cm)").padEnd(16, ".") + "[" + meastable.chlen["wk"+age]+"]"+
                "\nCrown-Rump".padEnd(16, ".")+(ms_cr+" (cm)").padEnd(16, ".") + "[" + meastable.crlen["wk"+age]+"]"+
                "\nHead Circ".padEnd(16, ".")+(ms_hc+" (cm)").padEnd(16, ".") + "[" + meastable.hc["wk"+age]+"]"+
                "\nFoot Length".padEnd(16, ".")+(ms_fl+" (cm)").padEnd(16, ".") + "[" + meastable.fl["wk"+age]+"]"+
                "\nChest Circ".padEnd(16, ".")+(ms_cc+" (cm)").padEnd(16, ".") + "[" + meastable.chc["wk"+age]+"]"+
                "\nAbdomen Circ".padEnd(16, ".")+(ms_ac+" (cm)").padEnd(16, ".") + "[" + meastable.abdc["wk"+age]+"]"+
                "\nInner Canth".padEnd(16, ".")+(ms_ic+" (cm)").padEnd(16, ".") + "[" + meastable.icanth["wk"+age]+"]"+
                "\nOuter Canth".padEnd(16, ".")+(ms_oc+" (cm)").padEnd(16, ".") + "[" + meastable.ocanth["wk"+age]+"]"+
                "\nGonads".padEnd(16, ".")+(ms_oc+" (cm)").padEnd(16, ".") +  "[no reference]"+

                "\n\nOrgan Weights with reference ranges: \n"+
                "Item".padEnd(16)+"Value".padEnd(16)+"Reference"+
                "\n".padEnd(50, "-") +
                "\nBody".padEnd(16, ".")+(wt_body+" (g)").padEnd(16, ".") + "[" + wttable.body["wk"+age]+"]"+
                "\nHeart".padEnd(16, ".")+(wt_heart+" (g)").padEnd(16, ".") + "[" + wttable.heart["wk"+age]+"]"+
                "\nLungs*".padEnd(16, ".")+(wt_lungs+" (g)").padEnd(16, ".") + "[" + wttable.lungs["wk"+age]+"]"+
                "\nLiver".padEnd(16, ".")+(wt_liver+" (g)").padEnd(16, ".") + "[" + wttable.liver["wk"+age]+"]"+
                "\nKidneys*".padEnd(16, ".")+(wt_kidneys+" (g)").padEnd(16, ".") + "[" + wttable.kidney["wk"+age]+"]"+
                "\nThymus".padEnd(16, ".")+(wt_thymus+" (g)").padEnd(16, ".") + "[" + wttable.thymus["wk"+age]+"]"+
                "\nSpleen".padEnd(16, ".")+(wt_spleen+" (g)").padEnd(16, ".") + "[" + wttable.spleen["wk"+age]+"]"+
                "\nAdrenals*".padEnd(16, ".")+(wt_ads+" (g)").padEnd(16, ".") + "[" + wttable.adrenal["wk"+age]+"]"+
                "\nBrain".padEnd(16, ".")+(wt_brain+" (g)").padEnd(16, ".") + "[" + wttable.brain["wk"+age]+"]"+
                "\n(*combined organ weights)\n";

            if (age < 14){
                datatable +=
                    "\n\nNo reference heart valve data available for this gestational age\n";
            }
            if (age >= 14){
                datatable +=
                    "\n\nHeart Valves and Ventricles: \n"+
                    "Item".padEnd(16)+"Value".padEnd(16)+"Reference"+
                    "\n".padEnd(50, "-") +
                    "\nTricuspid".padEnd(16, ".")+(ms_tv+" (cm)").padEnd(16, ".") + "[" + heartval.trival["wk"+age]+"]"+
                    "\nPulmonary".padEnd(16, ".")+(ms_pv+" (cm)").padEnd(16, ".") + "[" + heartval.pulval["wk"+age]+"]"+
                    "\nMitral".padEnd(16, ".")+(ms_mv+" (cm)").padEnd(16, ".") + "[" + heartval.mitval["wk"+age]+"]"+
                    "\nAortic".padEnd(16, ".")+(ms_av+" (cm)").padEnd(16, ".") + "[" + heartval.aoval["wk"+age]+"]"+
                    "\nR ventricle".padEnd(16, ".")+(ms_rv+" (cm)").padEnd(16, ".") + "[no reference]" +
                    "\nL ventricle".padEnd(16, ".")+(ms_lv+" (cm)").padEnd(16, ".") + "[no reference]";
            }

            if (age < 19){
                datatable += "\n\nNo reference placenta weights for this gestational age\n";
            }
            if (age >= 19){
                datatable +=
                    "\n\nPlacenta: \n"+
                    "Item".padEnd(16)+"Value".padEnd(16)+"Reference"+
                    "\n".padEnd(50, "-") +
                    "\nWeight".padEnd(16, ".")+plac_range+"\n";
            }

            datatable += "\n\nReferences" +
                "\nAnthropometric data: Archie J et al, Am J Clin Pathol 2006; 126: 256." +
                "\nHeart valves: Oyer et al, Pediatr Dev Pathol. 2004 Sep-Oct;7(5):499-505." +
                "\nPlacenta: Pinar et al, Pediatr Pathol Lab Med 1996; 16: 901\n\n";

            return datatable;
        }
        else {
            // get non-stillbirth data
            if (data == "infant"){ // correct age parsefloat to include month identifier
                age = age+"m";

            }
            console.log("non-stillbirth age: "+age);
            var body = wt[gend]['yr' + age].body;
            var heart = wt[gend]['yr' + age].heart;
            var httv = wt[gend]['yr' + age].tv;
            var htpv = wt[gend]['yr' + age].pv;
            var htmv = wt[gend]['yr' + age].mv;
            var htav = wt[gend]['yr' + age].av;
            var htlv = wt[gend]['yr' + age].lv;
            var htrv = wt[gend]['yr' + age].rv;
            if (wt[gend]['yr' + age].hasOwnProperty("lungs")) {
                var lungs = wt[gend]['yr' + age].lungs;
            }
            if (wt[gend]['yr' + age].hasOwnProperty("rlung")) {
                var rlung = wt[gend]['yr' + age].rlung;
            }
            if (wt[gend]['yr' + age].hasOwnProperty("llung")) {
                var llung = wt[gend]['yr' + age].llung;
            }
            var liver = wt[gend]['yr' + age].liver;
            if (wt[gend]['yr' + age].hasOwnProperty("kidneys")) {
                var kidneys = wt[gend]['yr' + age].kidneys;
            }
            if (wt[gend]['yr' + age].hasOwnProperty("rkid")) {
                var rkid = wt[gend]['yr' + age].rkid;
            }
            if (wt[gend]['yr' + age].hasOwnProperty("lkid")) {
                var lkid = wt[gend]['yr' + age].lkid;
            }
            if (wt[gend]['yr' + age].hasOwnProperty("adrenal")) {
                var adren = wt[gend]['yr' + age].adrenal;
            }
            if (wt[gend]['yr' + age].hasOwnProperty("thymus")) {
                var thymus = wt[gend]['yr' + age].thymus;
            }
            var spleen = wt[gend]['yr' + age].spleen;
            var brain = wt[gend]['yr' + age].brain;

            var headm = "\n\nReferences" +
                "\nBody weight and dimensions: National Center for Health Statistics http://www.cdc.gov/growthcharts/"+
                "\nOrgan weights: Schultz DM Arch Pathol 1962; 74:244 in Stocker and Dehner, 2002."+
                "\nHeart valves: Scholz DG et al, Mayo Clin Proc 1988; 63: 126.";

            var heada = "\n\nReferences" +
                "\nBody weight and dimensions: National Center for Health Statistics http://www.cdc.gov/growthcharts/"+
                "\nOrgan weights: Kayser K 1987, in Stocker & Dehner, Pediatric Pathology, 2002, appendices 36, 38, 40, 41, 42, 43 "+
                "\nHeart valves: Scholz DG et al, Mayo Clin Proc 1988; 63: 126.";

            // begin table
            datatable = "Weights and Measurements Summary\n";

            if (data == "infant") {
                datatable +=
                    "Infant Anthropometric Data: "+$("#box2").val()+" \nData represented as 'value [expected mean; expected range]'\n\n"+

                    "\n\nOrgan Weights with reference ranges: \n"+
                    "Item".padEnd(16)+"Value".padEnd(10)+"Reference"+
                    "\n".padEnd(50, "-") +
                    "\nBody".padEnd(16, ".")+(wt_body+" (kg)").padEnd(16, ".") + "[" + body + "]"+
                    "\nHeart".padEnd(16, ".")+(wt_heart+" (g)").padEnd(16, ".")  + "[" + heart + "]"+
                    "\nLungs*".padEnd(16, ".")+(wt_lungs+" (g)").padEnd(16, ".")  + "[" + lungs + "]*"+
                    "\nLiver".padEnd(16, ".")+(wt_liver+" (g)").padEnd(16, ".")  +  "[" + liver + "]"+
                    "\nKidneys*".padEnd(16, ".")+(wt_kidneys+" (g)").padEnd(16, ".")  +  "[" + kidneys + "]*"+
                    "\nThymus".padEnd(16, ".")+(wt_thymus+" (g)").padEnd(16, ".")  +  "[" + thymus + "]"+
                    "\nAdrenals*".padEnd(16, ".")+(wt_ads+" (g)").padEnd(16, ".")  + "[" + adren + "]*"+
                    "\nSpleen".padEnd(16, ".")+(wt_spleen+" (g)").padEnd(16, ".")  +  "[" + spleen + "]"+
                    "\nGonads".padEnd(16, ".")+(wt_gonads+" (g)").padEnd(16, ".") + "[no reference]"+
                    "\nBrain".padEnd(16, ".")+(wt_brain+" (g)").padEnd(16, ".")  + "[" + brain + "]"+
                    "\n(*combined organ weights)\n"+
                    "\n\nHeart Valves and Ventricles: \n"+
                    "Item".padEnd(16)+"Value".padEnd(16)+"Reference"+
                    "\n".padEnd(50, "-") +
                    "\nTricuspid".padEnd(16, ".")  + (ms_tv+" (cm)").padEnd(16, ".")  + "[" + httv + "]"+
                    "\nPulmonary".padEnd(16, ".")  + (ms_pv+" (cm)").padEnd(16, ".")  + "[" + htpv + "]"+
                    "\nMitral".padEnd(16, ".")  + (ms_mv+" (cm)").padEnd(16, ".")  + "[" + htmv + "]"+
                    "\nAortic".padEnd(16, ".")  + (ms_av+" (cm)").padEnd(16, ".")  + "[" + htav + "]"+
                    "\nR ventricle".padEnd(16, ".")  + (ms_rv+" (cm)").padEnd(16, ".")  + "[no reference]" +
                    "\nL ventricle".padEnd(16, ".")  + (ms_lv+" (cm)").padEnd(16, ".")  + "[no reference]" +
                    headm;

                    return datatable;
            } else {
                datatable +=
                    "Anthropometric Data: "+$("#box2").val()+" \nData represented as 'value [expected mean; expected range]'\n\n"+

                    "\n\nOrgan Weights with reference ranges: \n"+
                    "Item".padEnd(16)+"Value".padEnd(16)+"Reference"+
                    "\n".padEnd(50, "-") +
                    "\nBody".padEnd(16, ".")  + (wt_body + " (kg)").padEnd(16, ".")  + "[" +  body + "]" +
                    "\nHeart".padEnd(16, ".")  + (wt_heart + " (g)").padEnd(16, ".")  + "[" +  heart + "]" +
                    "\nR Lung".padEnd(16, ".")  + (wt_rlung + " (g)").padEnd(16, ".")  + "[" +  rlung + "]" +
                    "\nL Lung".padEnd(16, ".")  + (wt_llung + " (g)").padEnd(16, ".")  + "[" +  llung + "]" +
                    "\nLiver".padEnd(16, ".")  + (wt_liver + " (g)").padEnd(16, ".")  + "[" +  liver + "]" +
                    "\nR Kidney".padEnd(16, ".")  + (wt_rkid + " (g)").padEnd(16, ".")  + "[" +  rkid + "]" +
                    "\nL Kidney".padEnd(16, ".")  + (wt_lkid + " (g)").padEnd(16, ".")  + "[" +  lkid + "]" +
                    "\nThymus".padEnd(16, ".")  + (wt_thymus + " (g)").padEnd(16, ".")  + "[no reference]" +
                    "\nR Adrenal".padEnd(16, ".")  + (wt_rad + " (g)").padEnd(16, ".")  + "[no reference]" +
                    "\nL Adrenal".padEnd(16, ".")  + (wt_lad + " (g)").padEnd(16, ".")  + "[no reference]" +
                    "\nSpleen".padEnd(16, ".")  + (wt_spleen + " (g)").padEnd(16, ".")  + "[" +  spleen + "]" +
                    "\nGonads".padEnd(16, ".")  + (wt_gonads+" (g)").padEnd(16, ".")  + "[no reference]"+
                    "\nBrain".padEnd(16, ".")  + (wt_brain + " (g)").padEnd(16, ".")  + "[" + brain + "]" +
                    "\n\nHeart Valves and Ventricles : \n" +
                    "Item".padEnd(16)+"Value".padEnd(16)+"Reference"+
                    "\n".padEnd(50, "-") +
                    "\nTricuspid".padEnd(16, ".")  + (ms_tv + " (cm)").padEnd(16, ".")  + "[" + httv + "]" +
                    "\nPulmonary".padEnd(16, ".")  + (ms_pv + " (cm)").padEnd(16, ".")  + "[" + htpv + "]" +
                    "\nMitral".padEnd(16, ".")  + (ms_mv + " (cm)").padEnd(16, ".")  + "[" + htmv + "]" +
                    "\nAortic".padEnd(16, ".")  + (ms_av + " (cm)").padEnd(16, ".")  + "[" + htav + "]" +
                    "\nR ventricle".padEnd(16, ".")  + ms_rv + " (cm)\t" +
                    "\nL ventricle".padEnd(16, ".")  + ms_lv + " (cm)\t" +
                    heada;

                return datatable;
            }
        }

    };



// auto fix text boxes with pasted formatted spaced out data
    $(".txtbox").on("input", function(){
        var str = $(this).val().replace(/ \s+(?!\n)/gm, "");
        $(this).val(str);
    })

//*************************************************************//
//                        Pop-ups                              //
// *************************************************************/

    $("#maternal-sono-findings").on("change", function(){
        var sel = $(this).val();
        if (sel == "Other"){
            $(".sono-other").show();
        } else {
            $(".sono-other").hide();
        }
    });

    $("#ext-extremities").on("change", function(){
        var sel = $(this).val();
        if (sel.indexOf("specify") > -1){
            $("#ext-extremities-more").show();
        } else {
            $("#ext-extremities-more").hide();
        }
    });

    $("#ext-head").on("change", function(){
        var sel = $(this).val();
        if (sel.indexOf("specify") > -1){
            $("#ext-head-more").show();
        } else {
            $("#ext-head-more").hide();
        }
    });

    $("#ext-oral").on("change", function(){
        var sel = $(this).val();
        if (sel.indexOf("specify") > -1){
            $("#ext-oral-more").show();
        } else {
            $("#ext-oral-more").hide();
        }
    });

    $("#ext-abdomen").on("change", function(){
        var sel = $(this).val();
        if (sel.indexOf("specify") > -1){
            $("#ext-abdomen-more").show();
        } else {
            $("#ext-abdomen-more").hide();
        }
    });

    $("#ext-umbilicus").on("change", function(){
        var sel = $(this).val();
        if (sel == "Umbilical cord attached"){
            $("#ext-umbilicus-length").show();
        } else {
            $("#ext-umbilicus-length").hide();
        }
    });

    $("#int-incision").on("change", function(){
        var sel = $(this).val();
        if (sel.indexOf("specify") > -1){
            $("#int-incision-more").show();
        } else {
            $("#int-incision-more").hide();
        }
    });

    $("#int-diaphragm").on("change", function(){
        var sel = $(this).val();
        if (sel.indexOf("specify") > -1){
            $("#int-diaphragm-more").show();
        } else {
            $("#int-diaphragm-more").hide();
        }
    });

    $("#int-abdorgans").on("change", function(){
        var sel = $(this).val();
        if (sel.indexOf("specify") > -1){
            $("#int-abdorgans-more").show();
        } else {
            $("#int-abdorgans-more").hide();
        }
    });

    $("#int-genitalia").on("change", function(){
        var sel = $(this).val();
        if (sel.indexOf("specify") > -1){
            $("#int-genitalia-more").show();
        } else {
            $("#int-genitalia-more").hide();
        }
    });

    $("#int-greatvessel").on("change", function(){
        var sel = $(this).val();
        if (sel.indexOf("specify") > -1){
            $("#int-greatvessel-more").show();
        } else {
            $("#int-greatvessel-more").hide();
        }
    });

    $("#heart-size").on("change", function(){
        var sel = $(this).val();
        if (sel.indexOf("specify") > -1){
            $("#heart-size-more").show();
        } else {
            $("#heart-size-more").hide();
        }
    });

    $("#heart-aseptum").on("change", function(){
        var sel = $(this).val();
        if (sel.indexOf("specify") > -1){
            $("#heart-aseptum-more").show();
        } else {
            $("#heart-aseptum-more").hide();
        }
    });

    $("#heart-vseptum").on("change", function(){
        var sel = $(this).val();
        if (sel.indexOf("specify") > -1){
            $("#heart-vseptum-more").show();
        } else {
            $("#heart-vseptum-more").hide();
        }
    });

    $("#heart-vent").on("change", function(){
        var sel = $(this).val();
        if (sel.indexOf("specify") > -1){
            $("#heart-vent-more").show();
        } else {
            $("#heart-vent-more").hide();
        }
    });

    $("#heart-coronary").on("change", function(){
        var sel = $(this).val();
        if (sel.indexOf("specify") > -1){
            $("#heart-coronary-more").show();
        } else {
            $("#heart-coronary-more").hide();
        }
    });

    $("#heart-aorta").on("change", function(){
        var sel = $(this).val();
        if (sel.indexOf("specify") > -1){
            $("#heart-aorta-more").show();
        } else {
            $("#heart-aorta-more").hide();
        }
    });

    $("#heart-pulv").on("change", function(){
        var sel = $(this).val();
        if (sel.indexOf("specify") > -1){
            $("#heart-pulv-more").show();
        } else {
            $("#heart-pulv-more").hide();
        }
    });

    $("#pulm-rlung").on("change", function(){
        var sel = $(this).val();
        if (sel.indexOf("specify") > -1){
            $("#pulm-rlung-more").show();
        } else {
            $("#pulm-rlung-more").hide();
        }
    });

    $("#pulm-llung").on("change", function(){
        var sel = $(this).val();
        if (sel.indexOf("specify") > -1){
            $("#pulm-llung-more").show();
        } else {
            $("#pulm-llung-more").hide();
        }
    });

    $("#pulm-vessels").on("change", function(){
        var sel = $(this).val();
        if (sel.indexOf("specify") > -1){
            $("#pulm-vessels-more").show();
        } else {
            $("#pulm-vessels-more").hide();
        }
    });

    $("#pulm-vessels").on("change", function(){
        var sel = $(this).val();
        if (sel.indexOf("specify") > -1){
            $("#pulm-vessels-more").show();
        } else {
            $("#pulm-vessels-more").hide();
        }
    });

    $("#gi-si").on("change", function(){
        var sel = $(this).val();
        if (sel.indexOf("specify") > -1){
            $("#gi-si-more").show();
        } else {
            $("#gi-si-more").hide();
        }
    });

    $("#gi-colon").on("change", function(){
        var sel = $(this).val();
        if (sel.indexOf("specify") > -1){
            $("#gi-colon-more").show();
        } else {
            $("#gi-colon-more").hide();
        }
    });

    $("#sex").on('change', function () {
        var sel = $(this).val();

        if (sel == "male") {
            $(".male").show();
            $(".female").hide();
        } else if (sel == "female") {
            $(".male").hide();
            $(".female").show();

        } else {
            $(".male").show();
            $(".female").show();
        }

    });

    $("#msk-muscle").on("change", function(){
        var sel = $(this).val();
        if (sel.indexOf("specify") > -1){
            $("#msk-muscle-more").show();
        } else {
            $("#msk-muscle-more").hide();
        }
    });

    $("#msk_bones").on("change", function(){
        var sel = $(this).val();
        if (sel.indexOf("specify") > -1){
            $("#msk_bones-more").show();
        } else {
            $("#msk_bones-more").hide();
        }
    });

    $("#cns_surface").on("change", function(){
        var sel = $(this).val();
        if (sel.indexOf("specify") > -1){
            $("#cns_surface-more").show();
        } else {
            $("#cns_surface-more").hide();
        }
    });

    $("#cns-parenchyma").on("change", function(){
        var sel = $(this).val();
        if (sel.indexOf("specify") > -1){
            $("#cns-parenchyma-more").show();
        } else {
            $("#cns-parenchyma-more").hide();
        }
    });

    $("#cns-cerebell").on("change", function(){
        var sel = $(this).val();
        if (sel.indexOf("specify") > -1){
            $("#cns-cerebell-more").show();
        } else {
            $("#cns-cerebell-more").hide();
        }
    });

    $("#mat-hide").on("click", function(){
           $(".mat-history").toggle();
    });

    $("#age").on("change", function(){
       var sel = $(this).val();
       if (sel == "Stillbirth") {
           $(".ga").show();
       } else {
           $(".ga").hide();
       }
    });

    $("#age-ga").on("input", function (){
        var ga = parseFloat($("#age-ga").val());
            // set weights age
            $("#box2").val(ga+"wk").change();
    });

//*************************************************************//
//                   Calculate age and adjust                  //
// *************************************************************/
$("#age").on("focus", function () {
    var bdt     = new Date($("#date-birth").val() + " " + $("#date-btime").val());
    var ddt     = new Date($("#date-death").val() + " " + $("#date-dtime").val());
    // ageDiff in time in milliseconds
    var ageDiff = Math.abs(bdt.getTime() - ddt.getTime());
    console.log("begin date, death date, age diff: ", bdt, ddt, ageDiff);

    var abs_diff = ageDiff;
    // total ms in year
    var ms_yr    = 1000 * 60 * 60 * 24 * 365;
    // total ms in wk
    var ms_wk    = 1000 * 60 * 60 * 24 * 7;
    // total ms in days
    var ms_day    = 1000 * 60 * 60 * 24;
    // total ms in  hours
    var ms_hr    = 1000 * 60 * 60;
    // total ms in  minutes
    var ms_min    = 1000 * 60;

    // get integer value of abs year, will be 0 if in the same year span
    var yearageDiff = Math.floor(ageDiff / ms_yr);
    // subtract the integer year from the ageDiff in ms
    ageDiff -= yearageDiff * ms_yr;
    console.log("Diff - year: "+ageDiff);
    
    // get integer value of weeks from remaining time ageDiff
    var wkageDiff = Math.floor(ageDiff / ms_wk);
    // subtract the integer weeks from the ageDiff in ms
    ageDiff -= wkageDiff * ms_wk;
    console.log("Diff - week: "+abs_diff);

		// approximate month
    var moageDiff = Math.floor(wkageDiff / 4);


    // get integer value of days from remaining time ageDiff
    var dayageDiff = Math.floor(ageDiff / ms_day);
    // subtract the integer days from the ageDiff in ms
    ageDiff -= dayageDiff * ms_day;
    console.log("Diff - day: "+ageDiff);

    // get integer value of hours from remaining time ageDiff
    var hrageDiff = Math.floor(ageDiff / ms_hr);
    // subtract the integer hours from the ageDiff in ms
    ageDiff -= hrageDiff * ms_hr;
    console.log("Diff - hour: "+ageDiff);

    // get integer value of minutes from remaining time ageDiff
    var minageDiff = Math.floor(ageDiff / ms_min);
    console.log("Diff - min: "+ageDiff);

    // adjust text to output and subsequent weights reference
    if (abs_diff === 0){
        // This is a stillbirth
        $("#age").val("Stillbirth").trigger("change");
    } else {
        console.log("Not a stillbirth");
        // Not a still birth
        // Less than a year
        if (yearageDiff === 0 && wkageDiff < 52){
            if (wkageDiff > 4){
                // Age greater than a month
                $("#age").val(moageDiff + " months ");
                console.log("Age in months");
                // set weights age estimation for months up to a year
                $("#box2").val(moageDiff+"m").change();
            } else {
                    if (wkageDiff <= 4 && wkageDiff >= 1){
                        console.log("Age in weeks");
                        // Age between 1 week and a month
                        $("#age").val(wkageDiff+ " weeks " + dayageDiff + " day(s)");
                    } else if (wkageDiff <1 && dayageDiff >0) {
                        console.log("Age in days");
                        // Age between 1 week and a month
                        $("#age").val(dayageDiff + " day(s) " + hrageDiff + " hour(s)");
                    } else {
                        // Age is less than a day from birth
                        if (hrageDiff === 0){
                            console.log("Age in minutes");
                            // Age between birth and 1 hour
                            $("#age").val(minageDiff + " minutes");
                        } else {
                            console.log("Age in hours");
                            // Age between birth and day
                            $("#age").val(hrageDiff + " hour(s)");
                        }
                    }
                // set weights age to 1month for all ages less than 5 weeks
                $("#box2").val("1m").change();
            }
        } else {
          console.log("Age in years");
            // greater than a year
            $("#age").val(yearageDiff + " yr " +wkageDiff + " week(s)");
            // set weights age
            $("#box2").val(yearageDiff+"yr").change();
        }
    }
});

//*************************************************************//
//                   Microscopic descriptions                  //
// *************************************************************/

micros = {
    // Free text
    free100: "Sections show ....",
    // ** LUNGS ** //
    // Autolyzed lungs
    lung100: 'Sections from the lungs show extensive autolysis, with only ghost-like outlines of the alveolar parenchyma. Few pneumocytes and respiratory eptihelial cells retain nuclear basophilia\n\nSections from the trachea and larynx show diffuse autolysis and a ghost-like outline of tubular structures.\n',
    // Partially autolyzed lungs
    lung101: 'Sections from the lungs show partial autolysis, with retention of normal alveolar parenchymal architecture. Where viable, the pneumocytes and respiratory eptihelial cells retain nuclear basophilia. No viral inclusions or neutrophilic infiltrates are seen.\n\nSections from the trachea and larynx show normal tubular architecture with a ciliated respiratory epithelial lining. No undue hemorrhage or inflammatory infiltrates are seen. The tracheal cartilage is shows unremarkable hyaline cartilage and forms an incomplete ring.\n',
    // Viable lungs, pseduoglandular
    lung102: 'Sections from the lungs show normal immature pulmonary architecture. There is maturity to the pseudoglandular stage, as evidenced by densely cellular interstitial mesenchyme and columnar-epithelium lined tubular structures. Many of these show cells with subnuclear vacuoles. Alveolar structures are not apparent. No neutrophilic infiltrates or viral inclusions are seen.\n\nSections from the trachea and larynx show normal tubular architecture with a ciliated respiratory epithelial lining. No undue hemorrhage or inflammatory infiltrates are seen. The tracheal cartilage is shows unremarkable hyaline cartilage and forms an incomplete ring.\n',
    // Viable lungs, canalicular
    lung103: 'Sections from the lungs show normal immature pulmonary architecture. There is maturity to the canalicular stage, as evidenced by moderately cellular interstitial mesenchyme and recognizable branching terminal bronchioles. No well developed alveolar structures are seen. No neutrophilic infiltrates or viral inclusions are seen.\nSections from the trachea and larynx show normal tubular architecture with a ciliated respiratory epithelial lining. No undue hemorrhage or inflammatory infiltrates are seen. The tracheal cartilage is shows unremarkable hyaline cartilage and forms an incomplete ring.\n',
    // Viable lungs, saccular
    lung104: 'Sections from the lungs show normal immature pulmonary architecture. There is maturity to the canalicular stage, as evidenced by minimal amounts of cellular interstitial mesenchyme and branching terminal bronchioles which often end in dilated saccules. Few squames are present within the dilated spaces. The interstitial capillaries are well visualized and are centrally placed within the mesenchyme. No well formed alveolar spaces are seen. No neutrophilic infiltrates or viral inclusions are seen.\n\nSections from the trachea and larynx show normal tubular architecture with a ciliated respiratory epithelial lining. No undue hemorrhage or inflammatory infiltrates are seen. The tracheal cartilage is shows unremarkable hyaline cartilage and forms an incomplete ring.\n',
    // Viable lungs, alveolar
    lung105: 'Sections from the lungs show normal pulmonary architecture. There is maturity to the alveolar stage, as evidenced by an appropriate distribution of alveolar spaces which abut a rich network of interstitial capillaries. Occasional squames are present within the alveolar spaces. No neutrophilic infiltrates or viral inclusions are seen.\n\nSections from the trachea and larynx show normal tubular architecture with a ciliated respiratory epithelial lining. No undue hemorrhage or inflammatory infiltrates are seen. The tracheal cartilage is shows unremarkable hyaline cartilage and forms an incomplete ring.\n',
    // Multifocal pulmonary hemorrhage/necrosis
    lung106: 'Sections from the lungs show normal pulmonary architecture with age appropriate alveolar maturation to the ____ stage. Multifocal areas of alveolar hemorrhage and hemorrhagic necrosis are seen. The large airways show acute bronchopneumonia with neutrophils and inspissated material in the airway lumens\n\nSections from the trachea and larynx show normal tubular architecture with a ciliated respiratory epithelial lining. No undue hemorrhage or inflammatory infiltrates are seen. The tracheal cartilage is shows unremarkable hyaline cartilage and forms an incomplete ring.\n',
    // Developmental lung arrest
    lung107: 'Sections from the lungs show abnormal pulmonary architecture characterized by maturation assynchrony with the expected degree of alveolar development. This is characterized by persistence of interstitial mesenchyme, early fibroplasia and alveolar simplification (underdevelopment) with patchy hyperexpansion. In addition to these developmental changes, there are multifocal hemorrhagic infarctions in the peripheral airway parenchyma. Areas of airway edema with proteinaceous fluid in the airspaces are present. The pulmonary arteries show mild-moderate hypertensive arteriopathic changes. No undue neutrophilic infiltrates are seen in alveoli or bronchial spaces. \n',

    // ** HEART CV ** //
    // autolyzed heart / cv
    heart100: 'Sections from the heart show diffuse autolysis with a ghost-like outline of normal architecture. Nuclear basophilia is minimally present. The aorta show autolysis with no apparent intimal thickening.\n',
    // normal heart
    heart101: 'Sections from the heart show normal myocardial architecture with retention of nuclear basophilia. No ischemic foci or areas with nuclear enlargement are seen. No undue inflammatory infiltrates or viral cytopathic changes are evident.\n',
    // AMI/hypertrophy
    heart102: 'Sections from the heart show hypertrophic left-ventricular myofibers and multiple foci of acute ischemic necrosis. These are characterized by inter-myofiber hemorrhage, myofiber necrosis and early neutrophilic infiltration.\n',
    // Mild hypertrophy
    heart103: 'Sections from the heart show normal myocardial architecture with mild myocardial hypertrophy and boxy nuclei. No ischemic foci or areas of infarction are seen.\n',
    // normal aorta
    heart110: 'Sections from the aorta show normal vascular architecture without intimal thickening or subintimal deposits.\n',

    // ** GI ** //
    // Autolyzed GI
    gastro100: 'Sections of the esophagus show normal developmental architecture. Sections from the stomach, large bowel and small bowel show extensive autolysis with only ghost-like outlines of the expected bowel architecture remaining. Nuclear basophilia is not retained. There is abundant luminal mucous and meconium. Where evaluable, ganglion cells are present in the myenteric and submucosal plexi.\n',
    // Normal fetal GI
    gastro101: 'Sections of the esophagus show normal developmental architecture. Sections from the stomach, large bowel and small bowel show normal bowel architecture without undue inflammatory infiltrates. There is abundant luminal mucous and meconium. Where evaluable, ganglion cells are present in the myenteric and submucosal plexi.\n\nSections from the pancreas show normal lobular architecture with scattered endocrine islets.\n',
    // Normal GI
    gastro102: 'Sections of the esophagus show normal developmental architecture. Sections from the stomach, large bowel and small bowel show normal bowel architecture without undue inflammatory infiltrates. Where evaluable, ganglion cells are present in the myenteric and submucosal plexi.\n',
    // Normal pancreas
    gastro120: 'Sections from the pancreas show extensive autolysis with vaguely residual retention of normal lobular architecture and scattered endocrine islets.\n',
    // Autolyzed pancreas
    gastro121: '\nSections from the pancreas show extensive autolysis and areas of fatty saponification.\n',


    // ** HEPATOBILIARY ** //
    // autolyzed hepatobilliary
    hepato100: 'Sections from the liver show extensive autolysis which obscures the normal expected architecture. No nuclear basophilia is retained by the hepatocytes.\n',
    // normal hepatobilliary
    hepato101: 'Sections from the liver show normal hepatic architecture. The portal areas show a normal distribution of bile ducts and portal vessels. There is no undue lobular inflammation, giant cell change or bile stasis.\n',
    // Submassive hepatic necrosis
    hepato102: 'Sections from the liver show essentially normal hepatic architecture. There is extensive submassive parenchymal injury with areas of hemorrhage, necrosis and periportal ischemia. The viable hepatocytes show cholestasis and cytoplasmic vacuoles. Few giant cells and sinusoidal bile plugs are seen. The portal areas show a normal distribution of bile ducts and portal vessels. There is no undue lobular inflammation, giant cell change or bile stasis.\n',
    // normal EMH
    hepato120: 'Scattered islands of age-appropriate extra-medullary hematopoiesis are present.\n',
    // normal gallbladder
    hepato130: 'Sections from the gallbladder show normal biliary mucosa without mural hypertrophy or undue inflammatory infiltrates.\n',

    // ** GENITOURINARY ** //
    // autolyzed kidney & bladder
    gu100: 'Sections from the kidney show extensive autolysis obscuring the normal expected cortico-medullary architecture. Nuclear basophilia is minimally retained and a peripheral rim of nephrogenesis cannot be discerned. No viral cytopathic changes are seen. Sections from the bladder are unremarkable.\n',
    // autolyzed gonads
    gu101: 'Sections from the testes show extensive autolysis with obscuring of the expected parenchymal architecture.\n',
    // normal kidney and bladder
    gu102: 'Sections from the kidney show normal cortico-medullary architecture with a peripheral rim of developing nephrogenesis. No viral cytopathic changes are seen. Sections of the bladder are unremarkable.\n',
    // ATN kidney and bladder
    gu103: 'Sections from the kidney show prominent preferential degeneration (and/or superimposed autolysis) of the tubular epithelium. Granular casts are found in many tubules. There is normal cortico-medullary architecture. The papillary tubules show focal hemorrhage and vascular congestion. No viral cytopathic changes are seen. Sections of the bladder are unremarkable.\n',
    // diffuse ischemia
    gu104: 'Sections from the kidney show prominent preferential degeneration (and/or superimposed autolysis) of the tubular epithelium. Granular casts are found in many tubules. There is normal cortico-medullary architecture. The papillary tubules show focal hemorrhage and vascular congestion. No viral cytopathic changes are seen. Sections of the bladder are unremarkable.\n',
    // normal testes
    gu110: 'Sections from the testes show normal seminiferous tubule architecture. Few basal germ cells are present.\n',
    // normal ovaries
    gu115: 'Sections of the ovaries show normal parenchymal architecture with a rim of oocytes.\n',

    //** HEME ** //
    // Autolyzed thymus, spleen nodes
    heme100: 'Sections from the thymus, spleen and lymph nodes show extensive autolysis with only faint nuclear basophilia within a minority of lymphocytes.  Overall architecture appears distorted by the autolysis.\n',
    // Autolyzed marrow
    heme101: 'Sections from the bone marrow show autolysis with depletion of marrow elements.\n',
    // normal thymus
    heme102: 'Sections from the thymus show normal cortico-medullary architecture with scattered Hassall corpuscles. No significant involution-changes are evident.\n',
    // normal spleen
    heme103: 'Sections from the spleen show normal parenchymal architecture with a predominance of congested red pulp and few white pulp nodules.\n',
    // normal nodes/marrow
    heme104: 'Sections from the mesenteric lymph nodes show primary follicles without germinal center formation. Sections from the bone marrow show adequate cellularity with trilineage hematopoiesis.\n',

    // ** ENDOCRINE ** //
    // autolyized
    endocr100: 'Sections from the thyroid and adrenal glands show extensive autolysis with only vague residual ghost-like outlines of normal architecture.\n',
    // normal thyroid
    endocr101: 'Sections from the thyroid show normal developing follicular architecture without undue inflammatory infiltrates. Some follicles contain colloid. No parathyroid is present.\n',
    // normal adrenals
    endocr102: 'Sections from the adrenal glands show a predominance of fetal adrenal cortex, with a peripheral rim of definitive cortex. There is some acinar change. No cortical hemorrhage or excessive vacuolization is seen. The medulla is unremarkable.\n',
    //  normal pituitary
    endocr103: 'Sections from the pituitary gland show normal hypophysis and adenohypophysis constituents.\n',

    // ** MUSCULOSKELETAL ** //
    // autolyzed muscle
    msk100: 'Sections of skeletal muscle show extensive autolysis with ghost-like outlines of normal architecture. No excess in adipose is seen.\n',
    // normal muscle
    msk101: 'Sections of skeletal muscle are unremarkable, and show uniform thickness to the skeletal muscle fibers and no excess in adipose.\n',
    // normal rib
    msk102: 'Section from the rib show hyaline cartilage with a subjacent zone of orderly ossification and unremarkable surrounding soft tissue.\n',
    // normal unkeratinized skin
    msk103: 'Sections of the skin show age appropriate epidermis without keratinization and developing dermal adnexal structures.',
    // normal keratinized skin
    msk104: 'Sections of the skin show age appropriate epidermis with keratinization and developing dermal adnexal structures.',

    // ** CNS ** //
    // autolyzed
    cns100: 'Random sections from the brain tissue show autolysis and minimal retention of nuclear basophilia. There are focally preserved peripheral cortical zones of developing cortex. No calcifications are present.\n',
    // mildly autolyzed
    cns101: 'Random sections from the brain tissue show fragments of developing cortex, cerebellum and deep nuclei, with uniform retention of nuclear basophilia. Where evaluable, the cortex appears to show normal underlying developmental architecture. There are peripheral cortical zones of developing cortex and distinct gray and white matter zones. No calcifications, viral inclusions or hemorrhagic foci are present.\n',
    // well-fixed, normal
    cns102: 'Sections from the brain cortex show normal developing cortical architecture, with a peripheral zone of neurons and distinction from the gray matter. The cerebellum shows normal foveolar architecture with occasional eosinophilic Purkinje cells. Deep nuclei shows normal neuronal morphology and no excess of hypoxic change. No calcifications, viral inclusions, areas of hemorrhage or leukomalacia are seen.\n',
    // poorly-fixed, global ischemia
    cns103: 'Random sections from the poorly-fixed brain tissue show fragments of developing cortex, cerebellum and deep nuclei, with uniform retention of nuclear basophilia. Where evaluable, the cortex appears to show normal underlying developmental architecture. Neurons within the evaluable cortex and cerebellum show extensive "red-neuron" change, characterizing global hypoxic/ischemic change. No calcifications, viral inclusions, areas of hemorrhage or leukomalacia are seen.\n',
    // well-fixed, global ischemia
    cns104: 'Sections from the brain cortex show normal developing cortical architecture, with a peripheral zone of neurons and distinction from the gray matter. Neurons within the cerebral cortex, hippocampus and brain stem show extensive "red-neuron" change, characterizing global hypoxic/ischemic change. No calcifications, viral inclusions, areas of hemorrhage or leukomalacia are seen.\n',

    // ** PLACENTA ** //
    // Not examined
    plac100: "Placenta not examined\n",
    // See surgpath case
    plac101: "See surgpath case# \n",
    // unremarkable placenta, IUFD
    plac105: 'Sections from the umbilical cord show no undue inflammatory infiltrates in the vein or arteries, or within Wharton\'s jelly. There is patchy subendothelial pyknosis of the smooth muscle cells.\nSections from the membrane roll are unremarkable.\nSections from the placental disk show well-developed tertiary villi with degenerative changes suggesting intra-uterine retention. These are characterized by villous stromal karyorrhexis, stromal hemorrhage and prominent syncytial knots. No maternal vascular arteriopathy is evident. Acute inflammation within and outside villi is not seen. No appreciable intervillous lymphocytes, plasma cells or histiocytes are seen. No viral inclusions or excess intervillous fibrinoid is present.\n',

// ** COMMENTS ** //
    // Erythroblastosis fetalis, no typical etiology
    comm100: '\n The findings at autopsy confirm the presence of erythroblastosis fetalis, resulting in the clinical syndrome of hydrops fetalis. Hydrops fetalis is characterized by a constellation of findings, including diffuse edema/effusions, erythroblastosis (excess nucleated red blood cells) and ineffective oxygen-exchange. The causes of hydrops can be broadly divided into immune and non-immune etiologies. Immune mediated hydrops typically refers to the development of material anti-fetal (usually red cell antigen) alloimmune antibodies which causes massive hemolytic anemia in the infant. Nonimmune hydrops (NIH) may be caused by a broad variety of conditions including, but not limited to: primary cardiac anomalies, karyotypic aneuploidy, primary fetal anemia due to bone marrow disorder, significant thalassemias, TORCH infections, inborn errors of metabolism or, uncommonly, congenital neoplasms (see references).\n\nReview of available prenatal laboratory studies shows no red cell directed allo-immune antibodies, which argues against an immune mediated cause. Thus, the category of NIH is applicable. Often, in the absence of demonstrable infections or congenital mass lesions (neoplasms) the specific cause of non-immune hydrops cannot be confirmed by autopsy alone. Review of pertinent laboratory results that may account for erythroblastosis shows no etiologic viral infections (negative CMV, HSV and Parvovirus by PCR). Flow cytometry on a peripheral blood sample (DHP15-288) confirmed extensive circulating proerythroblasts without features of congenital leukemia. No congenital cardiac anomalies (excepting a large PDA) were detected. \n\nIn the absence of demonstrable viral infection, congenital leukemia, congenital tumors or causative cardiac anomalies, other causes of NIH must be considered. Given the extensive degree of multiorgan erythroblastosis, an underlying significant thalassemia (such as alpha-chain defect), primary bone marrow disorder or, possibly, a congenital genetic abnormality is favored. The autopsy findings alone cannot differentiate among these possibilities. Evaluating for parental hemoglobinopathies (particularly alpha-thalassemia) may be helpful, if not already performed. Chromosomal microarray testing of fetal tissues will be performed, the results of which will be reported as an addendum when available. \n\nReferences:\n1: Lallemand AV, et al. Investigation of nonimmune hydrops fetalis: multidisciplinary studies are necessary for diagnosis--review of 94 cases. Pediatr Dev Pathol. 1999 Sep-Oct;2(5):432-9.\n\n2: Rodrdguez MM, et al. Value of autopsy in nonimmune hydrops fetalis: series of 51 stillborn infantes. Pediatr Dev Pathol. 2002 Jul-Aug;5(4):365-74. \n',
    // Nucal cord, hypoxia,  meconium excess
    comm102: '\n Excessive meconium in airways (meconium aspiration) is associated with agonal / gasping respiratory efforts in the setting of in-utero hypoxic events. Overall, the findings are supportive of an in-utero hypoxic event. Nuchal cords are seen in a minority of normal births and do not necessarily cause fetal demise. Nevertheless, in the absence of any other identifiable cause of hypoxia, an instance of causative nuchal cord asphyxia is a plausible cause of hypoxia. Such accidents cannot always be definitively proven in all fetal demise cases.  \n',
    // Extensive fetal autolysis, small placenta , no obvious cause of demise
    comm104: '\n The etiology of the intrauterine fetal demise is uncertain and assessment of fetal organs is limited by the degree of autolysis. The placenta is small for the estimated gestational age. \n\nSmall placentas can be seen in a variety of settings, including chronic maternal underperfusion due to hypertension, diabetes or vascular derangements. \n',
    // Congenital diaphragmatic hernia
    comm106: '\nDiaphragmatic defects, including hemiagenesis with a congenital diaphragmatic hernia, often are associated with unilateral or bilateral pulmonary hypoplasia. The space occupying displaced viscera retards the ability of the lungs to expand and develop into the growing thoracic cavity. The hypoplastic nature of the lungs are confirmed by the low individual and combined lung weights, and the simplification of terminal alveolar development and markedly reduced lung:body ratio. Inadequate development of the lungs (and suboptimal development of oxygen-exchange participating terminal alveoli) in this severe setting is incompatible with spontaneous respiration and oxygenation. There is insufficient oxygen-exchange capacity of the parenchyma and incompliance of the lung to expand with spontaneous breaths. Furthermore, the absence of a fully functional diaphragm exacerbates the inability of the lungs to participate in sufficient oxygenation to support the organs. Secondary effects include increased pulmonary vascular resistance with resultant pulmonary hypertension. This is evidenced by the marked right sided cardiac dilated hypertrophy and left sided cardiac hypoplasia. The redundant and ballooned atria coincide with a markedly dilated tricuspid valve. Pre-mortem echocardiogram (performed 4/16/2015) confirmed marked right-to-left vascular shunting and minimal left ventricular ejection. The combination of inadequate pulmonary capacity, stigmata of severe pulmonary hypertension and depressed cardiac function likely resulted in in-utero cardiac hypoxia with end organ dysfunction. \n\nIn summary, this is a male infant with CDH due to agenesis of the hemidiaphragm. Findings during autopsy which would predict a higher risk CDH population include agenesis of the diaphragm, the presence of liver herniation and stigmata of pulmonary hypertension. [1] In the absence of other significant non-cardiac or pulmonary anomalies, this infant likely has a so-called isolated (non-syndromic) CDH. The possibility of a syndromic variant of CDH cannot be completely excluded by anatomic evaluation alone, and consideration for parental genetic counseling may be helpful. The reported risk in an isolated CDH occurring in future pregnancies is 1-2%. [2]\n\nREFERENCES:\n1: Mayer S, et al. The correlation between lung volume and liver herniation measurements by fetal MRI in isolated congenital diaphragmatic hernia: a systematic review and meta-analysis of observational studies. Prenat Diagn. 2011 Nov;31(11):1086-96.\n\n2: Pober BR, et al. Infants with Bochdalek diaphragmatic hernia: sibling precurrence and monozygotic twin discordance in a hospital-based malformation surveillance program. Am J Med Genet A. 2005 Oct 1;138A(2):81-8.\n',
    // Extreme prematurity with underdeveloped respiratory
    comm108: '\nThe lungs show maturity only to the late pseudoglandular stage, concomittant with the extreme prematurity. This stage of pulmonary development shows inadequate development of the necessary air-exchange structures, which likely accounts for the poor respiratory function after delivery. No intrinsic congenital anomalies are seen which might have accounted for poor respiratory function (ie. no tracheoesophageal fistula, rotational abnormalities or pulmonary hypoplasia).\n',
    // Pulmonary hemorrhage on ECMO
    comm110: '\nThe lung changes likely represent a consequence of an underlying coagulopathic state that resulted in extensive pulmonary hemorrhage with resultant hemorrhagic infarctions. The degree of hemorrhagic pulmonary infarctions and varying levels of organization suggest an acute on chronic process. Post-mortem microbiologic studies also identified gram-negative bacteremia with Enterococcus and Serratia organisms. \n\nPediatric patients receiving extra-corporeal membrane oxygenation (ECMO) harbor a significant risk for coagulopathic complications (reference #1, #2). Both bleeding and thrombotic complications are well documented risk factors in patient’s receiving ECMO support, due to dysfunction of platelets and necessity for optimal anticoagulation to maintain the circuit. The interactions between the circuit membrane and blood constituents, while on an ECMO circuit, directly contributes to an increased risk of hemolysis, microvascular thrombosis and spontaneous hemorrhage. The lung changes observed in this patient are typical in the setting of pulmonary hemorrhage while on ECMO (see reference #2). Diffuse alveolar hemorrhage with stagnant blood in the airspaces likely contributed to the elevated pulmonary arterial hypertension and creates an airflow “obstruction” injury pattern. The effect is restriction to the movement of blood through pulmonary vasculature and reduction in the gaseous exchange that is necessary for optimal ventilation. \n\nReference:\n1. Dalton HJ, et al. Factors Associated with Bleeding and Thrombosis in Children Receiving Extracorporeal Membrane Oxygenation. Am J Respir Crit Care Med. 2017 Sep 15;196(6):762-771.\n\n2. Werho DK, et al; Extracorporeal Life Support Organization Member Centers. Hemorrhagic complications in pediatric cardiac patients on extracorporeal membrane oxygenation: an analysis of the Extracorporeal Life Support Organization Registry. Pediatr Crit Care Med. 2015 Mar;16(3):276-88.\n\n3. Lee HE, Yi ES, Rabatin JT, Bohman JK, Roden AC. Histopathologic Findings in Lungs of Patients Treated With Extracorporeal Membrane Oxygenation. Chest. 2018 Apr;153(4):825-833.\n'

  //
}

//************************************************************//
// Script to populate the microscopic description array       //
// ***********************************************************//
var resp = [];
var cv = [];
var gi = [];
var liv = [];
var gu = [];
var heme = [];
var endo = [];
var msk = [];
var cns = [];
var plac = [];
var comm = [];


$("input:checkbox").on("change", function() {
  if ($(this).is(":checked")) {

    let part_choice = $(this).attr('id');
		if ($(this).attr('id').indexOf('lung') > -1) {
      resp.push(micros[part_choice]);
      console.log(resp);
    }

    if ($(this).attr('id').indexOf('heart') > -1) {
      cv.push(micros[part_choice]);
      console.log(cv);
    }

    if ($(this).attr('id').indexOf('gastro') > -1) {
      gi.push(micros[part_choice]);
      console.log(gi);
    }

    if ($(this).attr('id').indexOf('hepat') > -1) {
      liv.push(micros[part_choice]);
      console.log(liv);
    }

    if ($(this).attr('id').indexOf('gu') > -1) {
      gu.push(micros[part_choice]);
      console.log(gu);
    }

    if ($(this).attr('id').indexOf('heme') > -1) {
      heme.push(micros[part_choice]);
      console.log(heme);
    }

    if ($(this).attr('id').indexOf('endo') > -1) {
      endo.push(micros[part_choice]);
      console.log(endo);
    }

    if ($(this).attr('id').indexOf('msk') > -1) {
      msk.push(micros[part_choice]);
      console.log(msk);
    }

    if ($(this).attr('id').indexOf('cns') > -1) {
      cns.push(micros[part_choice]);
      console.log(cns);
    }

    if ($(this).attr('id').indexOf('plac') > -1) {
      plac.push(micros[part_choice]);
      console.log(plac);
    }

      if ($(this).attr('id').indexOf('comm') > -1) {
          comm.push(micros[part_choice]);
          console.log(comm);
      }

  }
});


//************************************************************//
// Script to populate the template data in the output textarea//
// *************************************************************/
    $('#writeReport').on('click', function () {

    // ***************** INPUT VALIDATION ********************//
        $('select[multiple]:visible').each(function () {
            // Check if at least one selection is made
            if ($(this).val().length > 0) {
                $(this).removeClass('empty');
            } else {
                $(this).addClass('empty');
                $('#cap-valid').show();
            }
        });

        $('input[type="text"]:visible').each(function () {
            // Check if at least one selection is made
            if ($.trim($(this).val()).length > 0) {
                $(this).removeClass('empty');
            } else {
                    $(this).addClass('empty');
                    $('#cap-valid').show();
                }
        });


        // ***************** END VALIDATION ********************//


        // Variables

        // Demographic variables
        var date_birth = $("#date-birth").val();
        var date_btime = $("#date-btime").val();
        var date_age = $("#age").val();
        var date_gage = $("#age-ga").val();
        var sex = $("#sex").val();
        var weight = $("#weight").val();
        var weight_unit = $("#weight-unit").val();
        var date_death = $("#date-death").val();
        var date_dtime = $("#date-dtime").val();

        // Autopsy details
        var date_autopsy = $("#date-autopsy").val();
        var autopsy_type = $("#autopsy-type").val();
        var autopsy_limits = $("#autopsy-limits").val() || "n/a";
        var autopsy_md = $("#autopsy-md").val();
        var autopsy_notify = $("#autopsy-notify").val() || "n/a";

        // Maternal variables
        var maternal_age = $("#maternal-age").val();
        var maternal_g = $("#maternal-g").val();
        var maternal_p = $("#maternal-p").val();
        var maternal_a = $("#maternal-a").val();

        // Prenatal data
        var maternal_blood = $("#maternal-blood").val();
        var maternal_abs = $("#maternal-abs").val();
        var maternal_rpr = $("#maternal-rpr").val();
        var maternal_hepb = $("#maternal-hepb").val();
        var maternal_hiv = $("#maternal-hiv").val();
        var maternal_rubella = $("#maternal-rubella").val();
        var maternal_gbs = $("#maternal-gbs").val();
        var maternal_sono_date = $("#maternal-sono-date").val();
        var maternal_sono_findings = $("#maternal-sono-findings").val();
        var maternal_sono_other = ($("#maternal-sono-other").val().length >0) ? $("#maternal-sono-other").val().rpad(25) : "None";

        // Maternal delivery information
        var maternal_labor = $("#maternal-labor").val();
        var maternal_delivery = $("#maternal-delivery").val();
        var hospital_course = ($("#hospital-course").val().length >0) ? $("#hospital-course").val().rpad(25) : "None";

        // External exam variables
        var ext_habitus = $("#ext-habitus").val().rpad(25);
        var ext_skin = $("#ext-skin").val().join(", ").rpad(25);
        var ext_extremities = $("#ext-extremities").val().rpad(25);
        var ext_extremities_more = $("#ext-extremities-more").val().rpad(25);
        var ext_meconium = $("#ext-meconium").val().rpad(25);
        var ext_medical = ($("#ext-medical").val().length >0) ? $("#ext-medical").val().rpad(25) : "None";
            // head/neck
        var ext_head = $("#ext-head").val().rpad(25);
        var ext_head_more = $("#ext-head-more").val().rpad(25);
        var ext_fontanelle = $("#ext-fontanelle").val().rpad(25);
        var ext_eye = $("#ext-eye").val().rpad(25);
        var ext_sclera = $("#ext-sclera").val().rpad(25);
        var ext_pupils = $("#ext-pupils").val().rpad(25);
        var ext_pupils_size = $("#ext-pupils-size").val().rpad(25);
        var ext_oral = $("#ext-oral").val().rpad(25);
        var ext_oral_more = $("#ext-oral-more").val().rpad(25);
        var ext_hair = $("#ext-hair").val().rpad(25);
        var ext_hair_color = $("#ext-hair-color").val().rpad(25);

            // abdomen and perineum
        var ext_abdomen = $("#ext-abdomen").val().rpad(25, 45);
        var ext_abdomen_more = $("#ext-abdomen-more").val().rpad(25, 45);
        var ext_umbilicus = $("#ext-umbilicus").val().rpad(25);
        var ext_umbilicus_length = $("#ext-umbilicus-length").val().rpad(25);
        var ext_genital = $("#ext-genital").val().rpad(25);
        var ext_anus = $("#ext-anus").val().rpad(25);

        // Internal exam
            // In-situ exam
        var int_incision = $("#int-incision").val().rpad(25);
        var int_incision_more = $("#int-incision-more").val().rpad(25);
        var int_subcut = $("#int-subcut").val().rpad(25);
        var int_peritoneum = $("#int-peritoneum").val().rpad(25);
        var int_peritoneum_fl = ($("#int-peritoneum-fl").val().length > 0) ? $("#int-peritoneum-fl").val() : "none";
        var int_diaphragm = $("#int-diaphragm").val().rpad(25);
        var int_diaphragm_more = $("#int-diaphragm-more").val().rpad(25);
        var int_abdorgans = $("#int-abdorgans").val().rpad(25);
        var int_abdorgans_more = $("#int-abdorgans-more").val().rpad(25);
        var int_genitalia = $("#int-genitalia").val().rpad(25);
        var int_genitalia_more = $("#int-genitalia-more").val().rpad(25);
        var int_pleural = $("#int-pleural").val().rpad(25);
        var int_rtplfl = $("#int-rtplfl").val().rpad(25);
        var int_rtplvol = ($("#int-rtplvol").val().length > 0) ? $("#int-rtplvol").val() : "none";
        var int_ltplfl = $("#int-ltplfl").val().rpad(25);
        var int_ltplvol = ($("#int-ltplvol").val().length > 0) ? $("#int-ltplvol").val() : "none";
        var int_mediastinum = $("#int-mediastinum").val().rpad(25);
        var int_greatvessel = $("#int-greatvessel").val().rpad(25);
        var int_greatvessel_more = $("#int-greatvessel-more").val().rpad(25);
        var int_pericardium = $("#int-pericardium").val().rpad(25);
        var int_pericardiumfl = ($("#int-pericardiumfl").val().length > 0) ? $("#int-pericardiumfl").val() : "none";
        var int_scalp = $("#int-scalp").val().rpad(25);
        var int_cranium = $("#int-cranium").val().rpad(25);

            // Ancillary testing
        var int_micro = $("#int-micro").val() || "Not performed";
        var int_blood = $("#int-blood").val() || "Not performed";
        var int_frozen = $("#int-frozen").val() || "Not performed";
        var int_cytogen = $("#int-cytogen").val() || "Not performed";
        var int_em = $("#int-em").val() || "Not performed";

        // Organ systems
            // Cardiovascular
        var heart_wt = Number($("#box11").val()) + " g";
        var heart_size = $("#heart-size").val().rpad(25);
        var heart_venous = $("#heart-venous").val().rpad(25);
        var heart_aseptum = $("#heart-aseptum").val().rpad(25);
        var heart_aseptum_more = $("#heart-aseptum-more").val().rpad(25);
        var heart_vseptum = $("#heart-vseptum").val().rpad(25);
        var heart_vseptum_more = $("#heart-vseptum-more").val().rpad(25);
        var heart_vent = $("#heart-vent").val().rpad(25);
        var heart_vent_more = $("#heart-vent-more").val().rpad(25);
        var heart_endo = $("#heart-endo").val().rpad(25);
        var heart_coronary = $("#heart-coronary").val().rpad(25);
        var heart_coronary_more = $("#heart-coronary-more").val().rpad(25);
        var heart_aorta = $("#heart-aorta").val().rpad(25);
        var heart_aorta_more = $("#heart-aorta-more").val().rpad(25);
        var heart_pulv = $("#heart-pulv").val().rpad(25);
        var heart_pulv_more = $("#heart-pulv-more").val().rpad(25);
        var heart_surg = ($("#heart-surg").val().length > 0) ? $("#heart-surg").val().rpad(25) : "No surgical alterations seen";
            // Pulmonary system
        var pulm_airway  = $("#pulm-airway").val().rpad(25);
        var rlung_wt = Number($("#box12").val()) + " g" || "n/a";;
        var llung_wt = Number($("#box13").val()) + " g" || "n/a";;
        var pulm_rlung = $("#pulm-rlung").val().rpad(25);
        var pulm_rlung_more = $("#pulm-rlung-more").val().rpad(25);
        var pulm_llung = $("#pulm-llung").val().rpad(25);
        var pulm_llung_more = $("#pulm-llung-more").val().rpad(25);
        var pulm_vessels = $("#pulm-vessels").val().rpad(25);
        var pulm_vessels_more = $("#pulm-vessels-more").val().rpad(25);
            // Gastrointestinal
        var gi_esoph_color = $("#gi-esoph-color").val() || "";
        var gi_esoph = $("#gi-esoph").val().replace(/(?=\w+ *?)mucosa/, gi_esoph_color+" mucosa").rpad(25);
        var gi_stomach_color = $("#gi-stomach-color").val() || "";
        var gi_stomach = $("#gi-stomach").val().replace(/(?=\w+ *?)mucosa/, gi_stomach_color+" mucosa").rpad(25);
        var gi_sto_cont = $("#gi-sto-cont").val().rpad(25);
        var gi_pylorus = $("#gi-pylorus").val().rpad(25);
        var gi_si_color = $("#gi-si-color").val() || "";
        var gi_si = $("#gi-si").val().replace(/(?=\w+ *?)mucosa/, gi_si_color+" mucosa").rpad(25);
        var gi_si_more = $("#gi-si-more").val().rpad(25);
        var gi_si_cont = $("#gi-si-cont").val().rpad(25);
        var gi_appy = $("#gi-appy").val().rpad(25);
        var gi_appy_len = $("#gi-appy-len").val() || "n/a";
        var gi_colon_color = $("#gi-colon-color").val() || "";
        var gi_colon = $("#gi-colon").val().replace(/(?=\w+ *?)mucosa/, gi_colon_color+" mucosa").rpad(25);
        var gi_colon_more = $("#gi-colon-more").val().rpad(25);
        var gi_colon_cont = $("#gi-colon-cont").val().rpad(25);
            // Hepatobiliary
        var liv_wt = Number($("#box14").val())+ " g" || "n/a"; // Liver
        var liv_shape = $("#liv-shape").val().rpad(25);
        var liv_paren = $("#liv-paren").val().rpad(25);
        var liv_color = $("#liv-color").val().rpad(25);
        var liv_texture = $("#liv-texture").val().rpad(25);
        var liv_veins = $("#liv-veins").val().rpad(25);
        var liv_gb = $("#liv-gb").val().rpad(25);
        var liv_biliary = $("#liv-biliary").val().rpad(25);
        var liv_other = ($("#liv-other").val().length > 0) ? $("#liv-other").val().rpad(25) : "None";
            // Genitourinary
        var kid_rwt = Number($("#box15").val()) + " g" || "n/a"; // R Kidney
        var kid_lwt = Number($("#box16").val()) + " g" || "n/a"; // L Kidney
        var kid_surface = $("#kid-surface").val().rpad(25);
        var kid_paren_color = $("#kid-paren-color").val().rpad(25);
        var kid_paren = $("#kid-paren").val().replace(/\s/, " "+kid_paren_color+ " ");
        var kid_ureter = $("#kid_ureter").val().rpad(25);
        var gu_bladder_color = $("#gu-bladder-color").val().rpad(25);
        var gu_bladder = $("#gu-bladder").val().replace(/ mucosa/, " " + gu_bladder_color + " mucosa");
        var gu_more = ($("#gu_more").val().length > 0) ? $("#gu_more").val().rpad(25) : "None";
            // Reproductive system
        var rep_testis_len = $("#rep-testis-len").val() + " cm" || "n/a";
        var rep_testis = $("#rep-testis").val().rpad(25);
        var rep_prostate = $("#rep-prostate").val().rpad(25);
        var rep_uterus = $("#rep-uterus").val().rpad(25);
        var rep_ovary_len = $("#rep-ovary-len").val() + " cm" || "n/a";
        var rep_ovary = $("#rep-ovary").val().rpad(25);
        var rep_falliopian = $("#rep-fallopian").val().rpad(25);
        var rep_other = ($("#rep-other").val().length > 0) ? $("#rep-other").val().rpad(25) : "None";
            // Hematolymphatic
        var hem_thymuswt    = Number($("#box20").val()) + " g" || "n/a"; // Thymus
        var hem_spleenwt    = Number($("#box21").val()) + " g" || "n/a"; // Spleen
        var hem_thymus = $("#hem-thymus").val().rpad(25);
        var hem_spleen = $("#hem-spleen").val().rpad(25);
        var hem_spleen_color = $("#hem-spleen-color").val().rpad(25);
        var hem_spleen_pulp = $("#hem-spleen-pulp").val().rpad(25);
        var hem_marrow = $("#hem-marrow").val().rpad(25);
        var hem_lymphnode = $("#hem-lymphnode").val().rpad(25);
        var hem_more = ($("#hem-more").val().length > 0) ? $("#hem-more").val().rpad(25) : "None";
            // Endocrine
        var endo_thyroid_color = $("#endo-thyroid-color").val().rpad(25);
        var endo_thyroid = $("#endo-thyroid").val().replace(/ parenchyma/, " "+ endo_thyroid_color + " parenchyma");
        var endo_parathy = $("#endo-parathy").val().rpad(25);
        var endo_adrenals = $("#endo-adrenals").val().rpad(25);
        var endo_rad = Number($("#box17").val()) + " g"; // R Adrenal
        var endo_lad = Number($("#box18").val()) + " g"; // L Adrenal
        var endo_pit = $("#endo-pit").val().rpad(25);
        var endo_more = ($("#endo-more").val().length > 0) ? $("#endo-more").val().rpad(25) : "None";
            // Musculoskeletal
        var msk_skin = $("#msk-skin").val().rpad(25);
        var msk_muscle = $("#msk-muscle").val().rpad(25);
        var msk_muscle_more = $("#msk-muscle-more").val().rpad(25);
        var msk_bones = $("#msk_bones").val().rpad(25);
        var msk_bones_more = $("#msk_bones-more").val().rpad(25);
        var msk_xray = ($("#msk_xray").val().length > 0) ? $("#msk_xray").val().rpad(25) : "None";
            // Brain
        var cns_brwt = Number($("#box22").val()) + " g"; // Brain
        var cns_fix = $("#cns-fix").val() + " days";
        var cns_dev = $("#cns-dev").val().rpad(25);
        var cns_surface = $("#cns_surface").val().rpad(25);
        var cns_surface_more = $("#cns_surface-more").val().rpad(25);
        var cns_cranial = $("#cns-cranial").val().rpad(25);
        var cns_parenchyma = $("#cns-parenchyma").val().rpad(25);
        var cns_parenchyma_more = $("#cns-parenchyma-more").val().rpad(25);
        var cns_vent = $("#cns-vent").val().rpad(25);
        var cns_cerebell = $("#cns-cerebell").val().rpad(25);
        var cns_cerebell_more = $("#cns-cerebell-more").val().rpad(25);
        var cns_bs = $("#cns-bs").val().rpad(25);
        var cns_sc = $("#cns-sc").val().rpad(25);
        var cns_more = ($("#cns-more").val().length > 0) ? $("#cns-more").val().rpad(25) : "None";

        // Cassette Summary
        var cass_1 = $("#cass-1").val();
        var cass_label_1 = $("#cass-label-1").val();

        var cass_2 = $("#cass-2").val();
        var cass_label_2 = $("#cass-label-2").val();

        var cass_3 = $("#cass-3").val();
        var cass_label_3 = $("#cass-label-3").val();

        var cass_4 = $("#cass-4").val();
        var cass_label_4 = $("#cass-label-4").val();

        var cass_5 = $("#cass-5").val();
        var cass_label_5 = $("#cass-label-5").val();

        var cass_6 = $("#cass-6").val();
        var cass_label_6 = $("#cass-label-6").val();

        var cass_7 = $("#cass-7").val();
        var cass_label_7 = $("#cass-label-7").val();

        var cass_8 = $("#cass-8").val();
        var cass_label_8 = $("#cass-label-8").val();

        var cass_9 = $("#cass-9").val();
        var cass_label_9 = $("#cass-label-9").val();

        var cass_10 = $("#cass-10").val();
        var cass_label_10 = $("#cass-label-10").val();

        var cass_11 = $("#cass-11").val();
        var cass_label_11 = $("#cass-label-11").val();

        var cass_12 = $("#cass-12").val();
        var cass_label_12 = $("#cass-label-12").val();

        var cass_13 = $("#cass-13").val();
        var cass_label_13 = $("#cass-label-13").val();

        var cass_14 = $("#cass-14").val();
        var cass_label_14 = $("#cass-label-14").val();

        var cass_15 = $("#cass-15").val();
        var cass_label_15 = $("#cass-label-15").val();

        var cass_16 = $("#cass-16").val();
        var cass_label_16 = $("#cass-label-16").val();

        var cass_17 = $("#cass-17").val();
        var cass_label_17 = $("#cass-label-17").val();

        var cass_18 = $("#cass-18").val();
        var cass_label_18 = $("#cass-label-18").val();

        var cass_19 = $("#cass-19").val();
        var cass_label_19 = $("#cass-label-19").val();

        var cass_20 = $("#cass-20").val();
        var cass_label_20 = $("#cass-label-20").val();




        // Headers for  Text to print
        var clinical_text = "CLINICAL SUMMARY\n";
        var gross_text = "GROSS DESCRIPTION\n";
        var micro_text = "MICROSCOPIC DESCRIPTION\n";
        var final_text = "FINAL DIAGNOSIS\n";

        // **********************************************************************//
        //                  CLINICAL SUMMARY, DEMOGRAPHICS                       //
        // ********************************************************************* //
        // Demographic data

        clinical_text +=    "\nPATIENT DEMOGRAPHICS"+
                            "\n  Birth record:".padEnd(25) + "DOB: "+date_birth + " at " + date_btime +
                            "\n  Death record:".padEnd(25) + "DOD: "+date_death + " at " + date_dtime +
                            "\n  Age (or time alive):".padEnd(25) + date_age +
                            "\n  Weight:".padEnd(25) + weight + " " + weight_unit +
                            "\n  Sex:".padEnd(25) + sex +"\n";
        // Autopsy details

        clinical_text +=    "\nAUTOPSY DETAILS" +
                            "\n  Autopsy date:".padEnd(25) + date_autopsy+
                            "\n  Autopsy type:".padEnd(25) + autopsy_type+
                            "\n  Autopsy limitations:".padEnd(25) + autopsy_limits+
                            "\n  Autopsy pathologist:".padEnd(25) + autopsy_md+
                            "\n  Physician notified".padEnd(25) + autopsy_notify +"\n";

        // Maternal data (if section is not toggled off
        if (!$("#mat-hide").hasClass("active")){
            clinical_text +=    "\nMATERNAL DATA" +
                "\n  Maternal age:".padEnd(25) + maternal_age +
                "\n  Birth history:".padEnd(25) + "G"+maternal_g+" P"+maternal_p+" A"+maternal_a+
                "\n  Prenatal sonography:".padEnd(25) + maternal_sono_date;


            if (maternal_sono_findings == "Other") {
                clinical_text += "\n  Sonographic findings:".padEnd(25) + maternal_sono_other +"\n";
            } else {
                clinical_text += "\n  Sonographic findings:".padEnd(25) + maternal_sono_findings +"\n";
            }

            clinical_text +=   "\nPRENATAL MATERNAL LABS"+
                "\n  Blood type:".padEnd(25) + maternal_blood +
                "\n  Antibody screen".padEnd(25) + maternal_abs +
                "\n  RPR:".padEnd(25) + maternal_rpr +
                "\n  Hepatitis-B:".padEnd(25) + maternal_hepb +
                "\n  HIV:".padEnd(25) + maternal_hiv +
                "\n  Rubella".padEnd(25) + maternal_rubella +
                "\n  Group B-Strep:".padEnd(25) + maternal_gbs+"\n";

            clinical_text +=    "\nDELIVERY AND HOSPITAL COURSE"+
                "\n  Labor type:".padEnd(25) + maternal_labor+
                "\n  Delivery type:".padEnd(25)+maternal_delivery;
        }

            clinical_text += "\n\n"+"HOSPITAL COURSE:".padEnd(25) + hospital_course+"\n";




        // **********************************************************************//
        //                  EXTERNAL EXAM, DATA TABLE                            //
        // ********************************************************************* //

        // call make_data function
        var data_table = make_data();

        // Add external exam
        var external = "\nExternal exam\n-------------\nGeneral";

        external +=     "\n  Body habitus:".padEnd(25) + ext_habitus +
                        "\n  Skin/Soft tissues:".padEnd(25) + ext_skin;

        if (ext_extremities.indexOf("specify") > -1){
            external += "\n  Extremities: ".padEnd(25) + ext_extremities_more;
        } else {
            external += "\n  Extremities: ".padEnd(25) + ext_extremities;
        }

        external +=     "\n  Meconium:".padEnd(25 ) + ext_meconium +
                        "\n  Medical Intervention: ".padEnd(25) + ext_medical;

        external +=     "\n\nHead/Neck";

        if (ext_head.indexOf("specify") > -1){
            external += "\n  Head shape:".padEnd(25) + ext_head_more;
        } else {
            external += "\n  Head shape:".padEnd(25) + ext_head;
        }

        external +=     "\n  Fontanelle:".padEnd(25) + ext_fontanelle +
                        "\n  Eyes:".padEnd(25) + ext_eye +
                        "\n  Sclera:".padEnd(25) + ext_sclera +
                        "\n  Pupils:".padEnd(25) + ext_pupils + " ("+ext_pupils_size+")" +
                        "\n  Hair:".padEnd(25) + ext_hair + "; "+ext_hair_color +" color";

        if (ext_oral.indexOf("specify") > -1){
            external += "\n  Oral cavity:".padEnd(25) + ext_oral_more;
        } else{
            external += "\n  Oral cavity:".padEnd(25) + ext_oral;
        }

        external += "\n\nAbdomen and perineum";

        if (ext_abdomen.indexOf("specify") > -1){
            external += "\n  Abdomen:".padEnd(25) + ext_abdomen_more.rpad(25);
        } else {
            external += "\n  Abdomen:".padEnd(25) + ext_abdomen;
        }

        if (ext_umbilicus.indexOf("attached") > -1){
            external += "\n  Umbilicus: ".padEnd(25) + ext_umbilicus + " (length: "+ext_umbilicus_length+")";
        } else {
            external += "\n  Umbilicus: ".padEnd(25) + ext_umbilicus;
        }

        external += "\n  External genitals:".padEnd(25) + ext_genital +
                    "\n  Anus:".padEnd(25) + ext_anus;



        // **********************************************************************//
        //                  INTERNAL EXAM                                        //
        // ********************************************************************* //
        var internal = "\n\nInternal exam\n-------------\nIn-situ exam";
        
        if (int_incision.indexOf("specify") > -1){
                internal += "\n  Incision:".padEnd(25) + int_incision_more;
            } else {
                internal += "\n  Incision:".padEnd(25) + int_incision;
            }
        internal += "\n  Subcutaneous tissue:".padEnd(25) + int_subcut;
        internal += "\n  Peritoneum:".padEnd(25) + int_peritoneum + "; fluid: "+int_peritoneum_fl;

        if (int_diaphragm.indexOf("specify") > -1){
            internal += "\n  Diaphragm:".padEnd(25) + int_diaphragm_more;
        } else {
            internal += "\n  Diaphragm:".padEnd(25) + int_diaphragm;
        }

        if (int_abdorgans.indexOf("specify") > -1){
            internal += "\n  Abdominal organs:".padEnd(25) + int_abdorgans_more;
        } else {
            internal += "\n  Abdominal organs:".padEnd(25) + int_abdorgans;
        }

        if (int_genitalia.indexOf("specify") > -1){
            internal += "\n  Genitalia:".padEnd(25) + int_genitalia_more;
        } else {
            internal += "\n  Genitalia:".padEnd(25) + int_genitalia;
        }

        internal += "\n  Pleural cavity:".padEnd(25) + int_pleural;
        internal += (int_rtplvol == "none") ? "\n  Right pleural fluid:".padEnd(25) + int_rtplvol : "\n  Right pleural fluid:".padEnd(25) + int_rtplvol + "; "+int_rtplfl;
        internal += (int_ltplvol == "none") ? "\n  Left pleural fluid:".padEnd(25) + int_ltplvol : "\n  Left pleural fluid:".padEnd(25) + int_ltplvol + "; "+int_ltplfl;
        
        internal += "\n  Mediastinum:".padEnd(25) + int_mediastinum;

        if (int_greatvessel.indexOf("specify") > -1){
            internal += "\n  Great vessels:".padEnd(25) + int_greatvessel_more;
        } else {
            internal += "\n  Great vessels:".padEnd(25) + int_greatvessel;
        }

        internal += "\n  Pericardium:".padEnd(25) + int_pericardium + "; fluid: "+int_pericardiumfl;

        internal += "\n  Scalp:".padEnd(25) + int_scalp;
        internal += "\n  Intra-cranium:".padEnd(25) + int_cranium;

        internal += "\n\nTissues obtained for ancillary testing:";
        internal += "\n  Microbiology culture:".padEnd(25) + int_micro;
        internal += "\n  Blood culture:".padEnd(25) + int_blood;
        internal += "\n  Frozen tissue:".padEnd(25) + int_frozen;
        internal += "\n  Cytogenetics:".padEnd(25) + int_cytogen;
        internal += "\n  Electron microscopy:".padEnd(25) + int_em;

        // **********************************************************************//
        //                 ORGAN SYSTEMS GROSS                                   //
        // ********************************************************************* //
        var organs = "\n\nOrgan systems\n-------------";
        organs +=   "\n\nCardiovascular" +
                    "\n  Heart weight:".padEnd(25) + heart_wt +
                    "\n  Heart size:".padEnd(25) + heart_size +
                    "\n  Venous return:".padEnd(25) + heart_venous +
                    "\n  Endocardium:".padEnd(25) + heart_endo;

        if (heart_aseptum.indexOf("specify") >-1){
            organs += "\n  Atrial septum:".padEnd(25) + heart_aseptum_more;
        } else {
            organs += "\n  Atrial septum:".padEnd(25) + heart_aseptum;
        }

        if (heart_vseptum.indexOf("specify") >-1){
            organs += "\n  Ventricle septum:".padEnd(25) + heart_vseptum_more;
        } else {
            organs += "\n  Ventricle septum:".padEnd(25) + heart_vseptum;
        }

        if (heart_vent.indexOf("specify") >-1){
            organs += "\n  Ventricle:".padEnd(25) + heart_vent_more;
        } else {
            organs += "\n  Ventricle:".padEnd(25) + heart_vent;
        }

        if (heart_coronary.indexOf("specify") >-1){
            organs += "\n  Coronaries:".padEnd(25) + heart_coronary_more;
        } else {
            organs += "\n  Coronaries:".padEnd(25) + heart_coronary;
        }

        if (heart_aorta.indexOf("specify") >-1){
            organs += "\n  Aorta/Arch:".padEnd(25) + heart_aorta_more;
        } else {
            organs += "\n  Aorta/Arch:".padEnd(25) + heart_aorta;
        }

        if (heart_pulv.indexOf("specify") >-1){
            organs += "\n  Pulmonary veins:".padEnd(25) + heart_pulv_more;
        } else {
            organs += "\n  Pulmonary veins:".padEnd(25) + heart_pulv;
        }

        organs += "\n  Surgical changes:".padEnd(25) + heart_surg;

        organs +=   "\n\nPulmonary";
        organs +=   "\n  Airway/Major bronchi:".padEnd(25) + pulm_airway +
                    "\n  Right lung weight:".padEnd(25) + rlung_wt +
                    "\n  Left lung weight:".padEnd(25) + llung_wt;

        if (pulm_rlung.indexOf("specify") >-1){
            organs += "\n  Right lung:".padEnd(25) + pulm_rlung_more;
        } else {
            organs += "\n  Right lung:".padEnd(25) + pulm_rlung;
        }

        if (pulm_llung.indexOf("specify") >-1){
            organs += "\n  Left lung:".padEnd(25) + pulm_llung_more;
        } else {
            organs += "\n  Left lung:".padEnd(25) + pulm_llung;
        }

        if (pulm_vessels.indexOf("specify") >-1){
            organs += "\n  Pulmonary vessels:".padEnd(25) + pulm_vessels_more;
        } else {
            organs += "\n  Pulmonary vessels:".padEnd(25) + pulm_vessels;
        }

        organs +=   "\n\nGastrointestinal";
        organs +=   "\n  Esophagus:".padEnd(25) + gi_esoph +
                    "\n  Stomach:".padEnd(25) + gi_stomach +
                    "\n  Stomach contents:".padEnd(25) + gi_sto_cont+
                    "\n  Pylorus:".padEnd(25) + gi_pylorus;

        if (gi_si.indexOf("specify") >-1){
            organs += "\n  Small intestine:".padEnd(25) + gi_si_more;
        } else {
            organs += "\n  Small intestine:".padEnd(25) + gi_si;
        }
        
        organs +=   "\n  SI contents:".padEnd(25) + gi_si_cont +
                    "\n  Appendix:".padEnd(25) + gi_appy + "(length: " + gi_appy_len+")";

        if (gi_colon.indexOf("specify") >-1){
            organs += "\n  Colon/Rectum:".padEnd(25) + gi_colon_more;
        } else {
            organs += "\n  Colon/Rectum:".padEnd(25) + gi_colon;
        }

        organs +=   "\n  Colorectal contents:".padEnd(25) + gi_colon_cont;

        organs +=   "\n\nHepatobiliary";
        organs +=   "\n  Liver weight:".padEnd(25) + liv_wt +
                    "\n  Liver shape:".padEnd(25) + liv_shape +
                    "\n  Liver parenchyma:".padEnd(25) + liv_paren + " " + liv_color + " " + liv_texture +
                    "\n  Hepatic veins:".padEnd(25) + liv_veins +
                    "\n  Gallbladder:".padEnd(25) + liv_gb+
                    "\n  Extra-hepatic ducts:".padEnd(25) + liv_biliary +
                    "\n  Other liver findings:".padEnd(25) + liv_other;

        organs +=   "\n\nGenitourinary";
        organs +=   "\n  Right kidney weight:".padEnd(25) + kid_rwt +
                    "\n  Right kidney weight:".padEnd(25) + kid_lwt +
                    "\n  Kidney capsule:".padEnd(25) + kid_surface +
                    "\n  Kidney parenchyma:".padEnd(25) + kid_paren +
                    "\n  Ureter/Pelves:".padEnd(25) + kid_ureter +
                    "\n  Bladder:".padEnd(25) + gu_bladder +
                    "\n  Other GU findings:".padEnd(25) + gu_more;


        organs +=   "\n\nReproductive";
        if (sex == "male"){
        organs +=   "\n  Testes:".padEnd(25)  + rep_testis + " (Length: "+ rep_testis_len + ")" +
                    "\n  Prostate:".padEnd(25) + rep_prostate;
        } else {
        organs +=   "\n  Uterus:".padEnd(25) + rep_uterus +
                    "\n  Ovaries:".padEnd(25) + rep_ovary + "(Length: "+rep_ovary_len + ")" +
                    "\n  Fallopian tubes:".padEnd(25) + rep_falliopian;
        }
        organs +=   "\n  Other findings:".padEnd(25) + rep_other;

        organs +=   "\n\nHematolymphatic";
        organs +=   "\n  Thymus:".padEnd(25) + (hem_thymus + " ("+hem_thymuswt+")").rpad(25);

        if ((hem_spleen.indexOf('Absent') > -1) || hem_spleen.indexOf('Not') > -1){
            organs +=   "\n  Spleen:".padEnd(25) + hem_spleen;
        } else {
            organs +=   "\n  Spleen weight:".padEnd(25) + hem_spleenwt;
                        "\n  Spleen:".padEnd(25) + hem_spleen.replace(/ parenchyma/, " "+hem_spleen_color+" parenchyma")+"; "+hem_spleen_pulp;
        }

        organs +=   "\n  Lymph nodes:".padEnd(25) + hem_lymphnode +
                    "\n  Bone marrow:".padEnd(25) + hem_marrow +
                    "\n  Other findings:".padEnd(25) + hem_more;

        organs +=   "\n\nEndocrine";
        organs +=   "\n  Thyroid:".padEnd(25) + endo_thyroid +
                    "\n  Parathyroid".padEnd(25) + endo_parathy +
                    "\n  Adrenal weights:".padEnd(25) + "R: " + endo_rad +"; L: "+endo_lad +
                    "\n  Adrenals:".padEnd(25) + endo_adrenals +
                    "\n  Pituitary:".padEnd(25) + endo_pit +
                    "\n  Other findings:".padEnd(25) + endo_more;


        organs +=   "\n\nSkin & Musculoskeletal";
        organs +=   "\n  Skin:".padEnd(25) + msk_skin;
        
        if (msk_muscle.indexOf("specify") > -1) {
            organs +=  "\n  Muscle:".padEnd(25) + msk_muscle_more;
        }   else {
            organs +=  "\n  Muscle:".padEnd(25) + msk_muscle;
        }

        if (msk_bones.indexOf("specify") > -1) {
            organs +=  "\n  Bone & cartilage:".padEnd(25) + msk_bones_more;
        }   else {
            organs +=  "\n  Bone & cartilage:".padEnd(25) + msk_bones.rpad(25);
        }

        organs +=  "\n  X-ray findings:".padEnd(25) + msk_xray;


        organs +=   "\n\nNervous System";
        organs +=   "\n  Brain weight:".padEnd(25)   + cns_brwt +
                    "\n  Length of fixation:".padEnd(25)   + cns_fix +
                    "\n  Brain development:".padEnd(25) + cns_dev ;
        
        if (cns_surface.indexOf("specify") > -1) {
            organs += "\n  Cortex:".padEnd(25) + cns_surface_more;
        } else {
            organs += "\n  Cortex:".padEnd(25) + cns_surface;
        }

        if (cns_parenchyma.indexOf("specify") > -1) {
            organs += "\n  Parenchyma:".padEnd(25) + cns_parenchyma_more;
        } else {
            organs += "\n  Parenchyma:".padEnd(25) + cns_parenchyma;
        }

        organs += "\n  Ventricles:".padEnd(25) + cns_vent;

        if (cns_cerebell.indexOf("specify") > -1) {
            organs += "\n  Cerebellum:".padEnd(25) + cns_cerebell_more;
        } else {
            organs += "\n  Cerebellum:".padEnd(25) + cns_cerebell;
        }

        organs +=   "\n  Brain stem:".padEnd(25) + cns_bs +
                    "\n  Spinal cord:".padEnd(25) + cns_sc +
                    "\n  Other findings:".padEnd(25) + cns_more;


        // **********************************************************************//
        //                  CASSETTE SUMMARY                                     //
        // ********************************************************************* //
        var cassette = 	"CASSETTE SUMMARY" +
                        "\n  "+cass_1.padEnd(25) +  cass_label_1 +
                        "\n  "+cass_2.padEnd(25) + cass_label_2 +
                        "\n  "+cass_3.padEnd(25) + cass_label_3 +
                        "\n  "+cass_4.padEnd(25) + cass_label_4 +
                        "\n  "+cass_5.padEnd(25) + cass_label_5 +
                        "\n  "+cass_6.padEnd(25) + cass_label_6 +
                        "\n  "+cass_7.padEnd(25) + cass_label_7 +
                        "\n  "+cass_8.padEnd(25) + cass_label_8 +
                        "\n  "+cass_9.padEnd(25) + cass_label_9 +
                        "\n  "+cass_10.padEnd(25) + cass_label_10 +
                        "\n  "+cass_11.padEnd(25) + cass_label_11 +
                        "\n  "+cass_12.padEnd(25) + cass_label_12 +
                        "\n  "+cass_13.padEnd(25) + cass_label_13 +
                        "\n  "+cass_14.padEnd(25) + cass_label_14 +
                        "\n  "+cass_15.padEnd(25) + cass_label_15 +
                        "\n  "+cass_16.padEnd(25) + cass_label_16 +
                        "\n  "+cass_17.padEnd(25) + cass_label_17 +
                        "\n  "+cass_18.padEnd(25) + cass_label_18 +
                        "\n  "+cass_19.padEnd(25) + cass_label_19 +
                        "\n  "+cass_20.padEnd(25) + cass_label_20;

            cassette = cassette.trim()+"\n";

        gross_text += "\n"+data_table +"\n"+external+"\n"+internal+organs+"\n\n"+cassette;


        // **********************************************************************//
        //                  MICROSCOPIC DESCRIPTION                              //
        // ********************************************************************* //

        /*
          if (cv.length < 1) {
            cv.push(micros.free100);
          } else {
              var found;
              while ((found = $.inArray(micros.free100, cv)) !== -1){
                  cv.splice(found, 1);
              }
          }
          if (resp.length < 1) {
            resp.push(micros.free100);
          }
          if (gi.length < 1) {
            gi.push(micros.free100);
          }
          if (liv.length < 1) {
            liv.push(micros.free100);
          }
          if (gu.length < 1) {
            gu.push(micros.free100);
          }
          if (heme.length < 1) {
            heme.push(micros.free100);
          }
          if (endo.length < 1) {
            endo.push(micros.free100);
          }
          if (cns.length < 1) {
            cns.push(micros.free100);
          }
          if (msk.length < 1) {
            msk.push(micros.free100);
          }
          if (plac.length < 1) {
            plac.push(micros.free100);
          }
          */

          micro_text += 
            "\nCardiovascular system"+"\n".padEnd(25, "-") +"\n" + cv.join("") +
            "\n\nRespiratory system"+"\n".padEnd(25, "-") +"\n" + resp.join("") +
            "\n\nGastrointestinal system"+"\n".padEnd(25, "-") +"\n" +  gi.join("") +
            "\n\nHepatobiliary system"+"\n".padEnd(25, "-") +"\n" +  liv.join("") +
            "\n\nGenitourinary system"+"\n".padEnd(25, "-") +"\n" +  gu.join("") +
            "\n\nHematolymphoid system"+"\n".padEnd(25, "-") +"\n" +  heme.join("") +
            "\n\nEndocrine system"+"\n".padEnd(25, "-") +"\n" + endo.join("") +
            "\n\nMusculoskeletal system"+"\n".padEnd(25, "-") +"\n" + msk.join("") +
            "\n\nNervous system"+"\n".padEnd(25, "-") +"\n" + cns.join("") +
            "\n\nPlacenta"+"\n".padEnd(25, "-") +"\n" + plac.join("");


        // FINAL ANATOMIC DIAGNOSES AND COMMENT

        final_text +=
            "I. "+weight + " " + weight_unit + " " + sex ;

        // get age
        var bdt     = new Date($("#date-birth").val() + " " + $("#date-btime").val());
        var ddt     = new Date($("#date-death").val() + " " + $("#date-dtime").val());
        // ageDiff in time in milliseconds
        var ageDiff = Math.abs(bdt.getTime() - ddt.getTime());
        console.log(bdt, ddt, ageDiff);

        if (ageDiff === 0){
            final_text += " stillborn fetus";

            var ga = $('#age-ga').val();
            final_text += " delivered at "+ga+ " gestational age \n";
        } else if (ageDiff < 31557600000){
            final_text += " infant \n";
        } else if (ageDiff < 378691200000){
            final_text += " child \n";
        } else {
            final_text += " adolescent \n";
        }

        final_text +=  "\n"+
            "II. List diagnoses here\n\n"+
            "__. Ancillary studies\n" +
            "Tissue microbiology:".padEnd(8) + int_micro + "\n" +
            "Blood culture:".padEnd(8) + int_blood + "\n" +
            "Cytogenetics:".padEnd(8) + int_cytogen + "\n" +
            "Electron microscopy:".padEnd(8) + int_em + "\n" +
            "Frozen tissue:".padEnd(8) + int_frozen + "\n" +
            "\n\nCOMMENT\n" +
            comm.join("\n");

        // print clinical summary and maternal data
        $('#outPut-1').val(clinical_text);
        // print gross and data table and cassette
        $('#outPut-2').val(gross_text);
        // print micro
        $('#outPut-3').val(micro_text);
        // print final/comment
        $('#outPut-4').val(final_text);
    });
// ********************* Combined report function ***********************//
        $('#combineReport').on('click', function () {
            // store your text to localStorage when someone click the link
            var textToPass = $('#outPut-4').val()+'\n\n'+$('#outPut-1').val()+'\n\n'+$('#outPut-2').val()+'\n\n'+$('#outPut-3').val();
            $('#outPut-combine').val(textToPass);
            $('#combined-report').modal("show");
            dataObj.singleSection = $('#outPut-combine').val();
            makeCreatePdfBtn();
        });

// ======================================================================//
});




