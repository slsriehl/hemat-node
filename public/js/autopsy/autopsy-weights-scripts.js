$(window).on('load', function() {
//*************************************************************//
//                       Data                                  //
// *************************************************************/


wttable = { body: { wk12: '20.9; 14.3 - 27.5', wk13: '31.2; 21.1 - 41.3', wk14: '49.1; 43.6 - 63.3', wk15: '74.7; 54.9 - 94.5 ', wk16: '108; 82 - 134', wk17: '149; 116 - 182', wk18: '197; 155 - 239', wk19: '255; 204 - 306', wk20: '319; 258 - 380', wk21: '389; 317 - 461', wk22: '452; 368 - 536', wk23: '510; 413 - 607', wk24: '579; 464 - 694', wk25: '660; 526 - 794', wk26: '744; 581 - 907', wk27: '839; 640 - 1038', wk28: '946; 707 - 1185', wk29: '1064; 778 - 1350', wk30: '1211; 881 - 1541', wk31: '1351; 978 - 1724', wk32: '1492; 1086 - 1898', wk33: '1650; 1217 - 2083', wk34: '1832; 1375 - 2289', wk35: '2040; 1553 - 2527', wk36: '2246; 1735 - 2757', wk37: '2424; 1889 - 2959', wk38: '2603; 2044 - 3162', wk39: '2787; 2205 - 3369', wk40: '2942; 2339 - 3545', wk41: '3098; 2475 - 3721', wk42: '3267; 2626 - 3908', wk43: '3444; 2787 - 4101', wk44: '3633; 2962 - 4304' }, heart: { wk12: '0.15; 0.13 - 0.17', wk13: '0.20; 0.14 - 0.26', wk14: '0.31; 0.20 - 0.42', wk15: '0.50; 0.33 - 0.67', wk16: '0.76; 0.52 - 1.00', wk17: '1.10; 0.79 - 1.41', wk18: '1.50; 1.10 - 1.90', wk19: '1.88; 1.39 - 2.37', wk20: '2.41; 1.82 - 3.00', wk21: '2.89; 2.18 - 3.60', wk22: '3.38; 2.56 - 4.20', wk23: '3.81; 2.85 - 4.77', wk24: '4.23; 3.11 - 5.35', wk25: '4.80; 3.19 - 6.11', wk26: '5.50; 3.93 - 7.07', wk27: '6.28; 4.44 - 8.12', wk28: '7.13; 5.02 - 9.24', wk29: '7.95; 5.51 - 10.4', wk30: '8.84; 6.13 - 11.6', wk31: '9.83; 6.97 - 12.7', wk32: '10.8; 7.80 - 13.8', wk33: '11.9; 8.70 - 15.1', wk34: '13.1; 9.60 - 16.6', wk35: '14.5; 10.8 - 18.2', wk36: '16.0; 12.0 - 20.0', wk37: '17.6; 13.3 - 21.9', wk38: '18.6; 14.1 - 23.1', wk39: '19.4; 14.6 - 24.2', wk40: '20.3; 15.3 - 25.3', wk41: '21.3; 16.1 - 26.5', wk42: '22.4; 17.1 - 27.7', wk43: '23.6; 18.2 - 29.0', wk44: '24.8; 19.3 - 30.3' }, lungs:{ wk12: '0.50; 0.22 - 0.78', wk13: '1.08; 0.63 - 1.53', wk14: '1.79; 1.12 - 2.46', wk15: '2.64; 1.72 - 3.56', wk16: '3.61; 2.40 - 4.82', wk17: '4.70; 3.15 - 6.25', wk18: '5.92; 4.00 - 7.84', wk19: '7.3; 4.96 - 9.64', wk20: '8.84; 6.04 - 11.6', wk21: '10.4; 7.10 - 13.7', wk22: '12.0; 8.20 - 15.8', wk23: '13.5; 9.10 - 17.9', wk24: '15.0; 10.0 - 20.0', wk25: '16.8; 11.2 - 22.4', wk26: '18.7; 12.5 - 247.9', wk27: '20.6; 13.8 - 27.4', wk28: '22.7; 15.4 - 30.0', wk29: '25.1; 17.2 - 33.0', wk30: '27.4; 19.0 - 35.8', wk31: '29.2; 20.4 - 38.0', wk32: '31.2; 22.2 - 40.2', wk33: '34.1; 24.7 - 43.5', wk34: '37.5; 27.4 - 47.6', wk35: '41.7; 30.7 - 52.7', wk36: '45.1; 32.9 - 57.3', wk37: '47.0; 33.8 - 60.2', wk38: '48.4; 34.4 - 62.4', wk39: '49.4; 34.6 - 64.2', wk40: '50.8; 35.3 - 66.3', wk41: '52.3; 36.2 - 68.4', wk42: '54.0; 37.5- 7 0.5', wk43: '55.9; 39.1 - 72.7', wk44: '57.8; 40.9 - 74.7' }, liver:{ wk12: '1.01; 0.63 - 1.39', wk13: '1.38; 0.81 - 1.95', wk14: '2.18; 1.34 - 3.02', wk15: '3.41; 2.23 - 4.59', wk16: '5.06; 3.46 - 6.66', wk17: '7.14; 5.04 - 9.24', wk18: '9.65; 6.99 - 12.3', wk19: '12.8; 9.50 - 16.1', wk20: '16.5; 12.5 - 20.5', wk21: '19.9; 15.1 - 24.7', wk22: '22.7; 17.0 - 28.4', wk23: '24.3; 17.8 - 30.8', wk24: '26.4; 19.3 - 33.5', wk25: '29.4; 21.6 - 37.2', wk26: '33.2; 24.4 - 42.0', wk27: '37.8; 27.9 - 47.7', wk28: '42.6; 31.1 - 54.1', wk29: '46.9; 33.6 - 60.2', wk30: '51.3; 36.5 - 66.1', wk31: '55.9; 40.1 - 71.7', wk32: '61.2; 44.2 - 78.2', wk33: '66.3; 47.5 - 85.1', wk34: '72.8; 51.9 - 93.7', wk35: '81.8; 59.5 - 104', wk36: '92.8; 69.9 - 116', wk37: '104; 81.0 - 127', wk38: '116; 90.0 - 142', wk39: '124; 95.0 - 153', wk40: '130; 98.0 - 162', wk41: '136; 100 - 172', wk42: '141; 101 - 181', wk43: '145; 100 - 190', wk44: '149; 99.0 - 199' }, kidney:{ wk12: '0.16; 0.12 - 0.20', wk13: '0.22; 0.15 - 0.29', wk14: '0.36; 0.23 - 0.49', wk15: '0.59; 0.40 - 0.78', wk16: '0.90; 0.62 - 1.18', wk17: '1.30; 0.91 - 1.69', wk18: '1.79; 1.28 - 2.30', wk19: '2.36; 1.71 - 3.01', wk20: '3.00; 2.19 - 3.81', wk21: '3.63; 2.64 - 4.62', wk22: '4.23; 3.05 - 5.41', wk23: '4.77; 3.38 - 6.16', wk24: '5.65; 4.02 - 7.28', wk25: '6.55; 4.64 - 8.46', wk26: '7.46; 5.25 - 9.67', wk27: '8.53; 6.00 - 11.1', wk28: '9.75; 6.90 - 12.6', wk29: '11.1; 7.90 - 14.3', wk30: '12.5; 8.80 - 16.2', wk31: '13.8; 9.80 - 17.8', wk32: '15.0; 10.6 - 19.4', wk33: '16.5; 11.6 - 21.4', wk34: '18.0; 12.7 - 23.3', wk35: '19.6; 13.9 - 25.3', wk36: '21.3; 15.3 - 27.3', wk37: '22.5; 16.1 - 28.9', wk38: '23.9; 17.1 - 30.7', wk39: '24.9; 17.8 - 32.0', wk40: '25.7; 18.2 - 33.2', wk41: '26.4; 18.6 - 34.2', wk42: '27.0; 18.8 - 35.2', wk43: '27.6; 19.1 - 36.1', wk44: '28.3; 19.5 - 37.1' }, thymus:{ wk12: '0.01; 0.00 - 0.02', wk13: '0.03; 0.02 - 0.04', wk14: '0.05; 0.02 - 0.07', wk15: '0.09; 0.05 - 0.13', wk16: '0.14; 0.08 - 0.20', wk17: '0.20; 0.12 - 0.28', wk18: '0.28; 0.16 - 0.40', wk19: '0.41; 0.24 - 0.58', wk20: '0.54; 0.31 - 0.77', wk21: '0.72; 0.43 - 1.01', wk22: '0.92; 0.55 - 1.29', wk23: '1.15; 0.69 - 1.61', wk24: '1.38; 0.80 - 1.96', wk25: '1.63; 0.92 - 2.34', wk26: '2.0; 1.10 - 2.82', wk27: '2.4; 1.35 - 3.39', wk28: '2.9; 1.63 - 4.07', wk29: '3.4; 1.95 - 4.93', wk30: '4.0; 2.17 - 5.87', wk31: '4.5; 2.35 - 6.69', wk32: '4.9; 2.48 - 7.34', wk33: '5.4; 2.77 - 8.03', wk34: '6.0; 3.19 - 8.87', wk35: '6.9; 3.81 - 9.93', wk36: '7.9; 4.63 - 11.1', wk37: '9.0; 5.54 - 12.4', wk38: '9.6; 6.01 - 13.2', wk39: '10.0; 6.20 - 13.8', wk40: '10.2; 6.30 - 14.1', wk41: '10.2; 6.10 - 14.3', wk42: '10.1; 5.80 - 14.4', wk43: '9.8; 5.37 - 14.3', wk44: '9.4; 4.80 - 14.1' }, spleen:{ wk12: '0.01; 0.00 - 0.02', wk13: '0.01; 0.00 - 0.02', wk14: '0.03; 0.01 - 0.05', wk15: '0.05; 0.02 - 0.08', wk16: '0.09; 0.04 - 0.14', wk17: '0.15; 0.08 - 0.22', wk18: '0.21; 0.11 - 0.31', wk19: '0.30; 0.16 - 0.44', wk20: '0.41; 0.23 - 0.59', wk21: '0.54; 0.32 - 0.76', wk22: '0.66; 0.38 - 0.94', wk23: '0.75; 0.43 - 1.07', wk24: '0.91; 0.55 - 1.27', wk25: '1.11; 0.67 - 1.55', wk26: '1.38; 0.83 - 1.93', wk27: '1.78; 1.07 - 2.49', wk28: '2.26; 1.30 - 3.22', wk29: '2.73; 1.54 - 3.92', wk30: '3.20; 1.84 - 4.56', wk31: '3.74; 2.16 - 5.32', wk32: '4.37; 2.50 - 6.24', wk33: '5.06; 2.88 - 7.24', wk34: '5.76; 3.25 - 8.27', wk35: '6.47; 3.68 - 9.26', wk36: '7.21; 4.14 - 10.3', wk37: '8.11; 4.81 - 11.4', wk38: '9.15; 5.62 - 12.7', wk39: '9.83; 6.10 - 13.6', wk40: '10.2; 6.30 - 14.1', wk41: '10.5; 6.50 - 14.5', wk42: '10.8; 6.80 - 14.8', wk43: '10.9; 6.90 - 14.9', wk44: '11.1; 7.10 - 15.1' }, adrenal:{ wk12: '0.10; 0.07 - 0.13', wk13: '0.15; 0.10 - 0.20', wk14: '0.23; 0.15 - 0.31', wk15: '0.33; 0.21 - 0.45', wk16: '0.47; 0.31 - 0.63', wk17: '0.64; 0.42 - 0.86', wk18: '0.84; 0.54 - 1.14', wk19: '1.03; 0.69 - 1.37', wk20: '1.29; 0.88 - 1.70', wk21: '1.51; 1.02 - 2.00', wk22: '1.73; 1.16 - 2.30', wk23: '1.88; 1.22 - 2.54', wk24: '2.00; 1.26 - 2.74', wk25: '2.16; 1.34 - 2.98', wk26: '2.36; 1.46 - 3.26', wk27: '2.58; 1.59 - 3.57', wk28: '2.83; 1.73 - 3.93', wk29: '3.09; 1.88 - 4.30', wk30: '3.36; 2.02 - 4.70', wk31: '3.71; 2.29 - 5.13', wk32: '4.07; 2.57 - 5.57', wk33: '4.42; 2.86 - 5.98', wk34: '4.77; 3.14 - 6.40', wk35: '5.19; 3.43 - 6.95', wk36: '5.74; 3.82 - 7.66', wk37: '6.46; 4.36 - 8.56', wk38: '7.01; 4.70 - 9.32', wk39: '7.44; 4.89 - 9.99', wk40: '7.75; 4.93 - 10.6', wk41: '7.99; 4.88 - 11.1', wk42: '8.14; 4.70 - 11.6', wk43: '8.21; 4.42 - 12.0', wk44: '8.22; 4.05 - 12.4' }, brain:{ wk12: '3.20; 1.76 - 4.64', wk13: '5.19; 3.24 - 7.14', wk14: '8.14; 5.56 - 10.72', wk15: '12.0; 8.7 - 15.3', wk16: '16.9; 12.7 - 21.1', wk17: '22.8; 17.6 - 28.0', wk18: '29.7; 23.4 - 36.0', wk19: '37.2; 29.6 - 44.8', wk20: '45.7; 36.8 - 54.6', wk21: '54.6; 44.2 - 65.0', wk22: '63.7; 51.7 - 75.7', wk23: '72.3; 58.5 - 86.1', wk24: '82.8; 67.2 - 98.4', wk25: '93.4; 76.0 - 111', wk26: '105; 86 - 124', wk27: '118; 97 - 139', wk28: '135; 111 - 159', wk29: '154; 128 - 180', wk30: '173; 143 - 203', wk31: '191; 158 - 224', wk32: '206; 171 - 241', wk33: '222; 186 - 258', wk34: '242; 205 - 279', wk35: '265; 226 - 304', wk36: '292; 250 - 334', wk37: '319; 275 - 363', wk38: '340; 294 - 386', wk39: '355; 306 - 404', wk40: '368; 317 - 419', wk41: '382; 329 - 435', wk42: '395; 340 - 450', wk43: '408; 351 - 465', wk44: '421; 362 - 480' } };

meastable = { chlen: { wk12: '9.30; 8.3 - 10.3', wk13: '11.4; 10.3 - 12.5', wk14: '13.4; 12.2 - 14.6', wk15: '15.4; 14.0 - 16.8', wk16: '17.4; 15.9 - 18.9', wk17: '19.3; 17.7 - 20.9', wk18: '21.2; 19.5 - 22.9', wk19: '23.0; 21.2 - 24.8', wk20: '24.7; 22.8 - 26.6', wk21: '26.4; 24.5 - 28.3', wk22: '27.8; 25.8 - 29.8', wk23: '29.1; 27.1 - 31.1', wk24: '30.3; 28.2 - 32.4', wk25: '31.6; 29.4 - 33.8', wk26: '32.8; 30.5 - 35.1', wk27: '34.0; 31.4 - 36.6', wk28: '35.1; 32.1 - 38.1', wk29: '36.2; 32.9 - 39.5', wk30: '37.4; 33.9 - 40.9', wk31: '38.6; 34.9 - 42.3', wk32: '39.7; 35.9 - 43.5', wk33: '40.8; 36.8 - 44.8', wk34: '41.9; 37.8 - 46.0', wk35: '43.2; 38.9 - 47.5', wk36: '44.4; 40.0 - 48.8', wk37: '45.7; 41.3 - 50.1', wk38: '47.0; 42.6 - 51.4', wk39: '48.2; 43.8 - 52.6', wk40: '49.3; 45.1 - 53.5', wk41: '50.5; 46.4 - 54.6', wk42: '51.6; 47.8 - 55.4', wk43: 'n/a', wk44: 'n/a' }, crlen: { wk12: '7.60; 6.9 - 8.3', wk13: '8.70; 7.9 - 9.5', wk14: '9.80; 8.9 - 10.7', wk15: '10.9; 9.9 - 11.9', wk16: '12.1; 11.0 - 13.2', wk17: '13.3; 12.2 - 14.4', wk18: '14.5; 13.3 - 15.7', wk19: '15.8; 14.5 - 17.1', wk20: '17.1; 15.7 - 18.5', wk21: '18.4; 17.0 - 19.8', wk22: '19.5; 18.0 - 21.0', wk23: '20.4; 18.9 - 21.9', wk24: '21.3; 19.7 - 22.9', wk25: '22.3; 20.6 - 24.0', wk26: '23.2; 21.4 - 25.0', wk27: '24.2; 22.3 - 26.1', wk28: '25.0; 22.9 - 27.1', wk29: '25.9; 23.5 - 28.3', wk30: '26.7; 24.0 - 29.4', wk31: '27.6; 24.6 - 30.6', wk32: '28.4; 25.2 - 31.6', wk33: '29.2; 25.9 - 32.5', wk34: '30.1; 26.8 - 33.4', wk35: '31.0; 27.7 - 34.3', wk36: '31.8; 28.5 - 35.1', wk37: '32.7; 29.5 - 35.9', wk38: '33.6; 30.4 - 36.8', wk39: '34.4; 31.4 - 37.4', wk40: '35.2; 32.3 - 38.1', wk41: '36.0; 33.3 - 38.7', wk42: '36.7; 34.2 - 39.2', wk43: 'n/a ', wk44: 'n/a  ', wk43: 'n/a   ', wk44: 'n/a    ' }, hc:{ wk12: '6.80; 5.6 - 7.9', wk13: '8.20; 7.0 - 9.4', wk14: '9.60; 8.4 - 10.8', wk15: '11.0; 9.8 - 12.2', wk16: '12.3; 11.1 - 13.5', wk17: '13.6; 12.4 - 14.8', wk18: '14.9; 13.6 - 16.2', wk19: '16.1; 14.8 - 17.4', wk20: '17.3; 16.0 - 18.6', wk21: '18.5; 17.2 - 19.8', wk22: '19.6; 18.3 - 20.9', wk23: '20.7; 19.3 - 22.1', wk24: '21.8; 20.4 - 23.2', wk25: '22.8; 21.4 - 24.2', wk26: '23.8; 22.4 - 25.2', wk27: '24.8; 23.4 - 26.2', wk28: '25.7; 24.3 - 27.1', wk29: '26.6; 25.1 - 28.1', wk30: '27.5; 26.0 - 29.0', wk31: '28.3; 26.8 - 29.8', wk32: '29.1; 27.6 - 30.6', wk33: '29.8; 28.3 - 31.3', wk34: '30.6; 29.0 - 32.2', wk35: '31.2; 29.6 - 32.8', wk36: '31.9; 30.3 - 33.5', wk37: '32.5; 30.9 - 34.1', wk38: '33.1; 31.5 - 34.7', wk39: '33.6; 31.9 - 35.3', wk40: '34.2; 32.5 - 35.9', wk41: '34.6; 32.9 - 36.3', wk42: '35.1; 33.4 - 36.8', wk43: 'n/a', wk44: 'n/a' }, fl:{ wk12: '1.0; 0.9-1.1', wk13: '1.2; 1.1-1.3', wk14: '1.5; 1.4-1.6', wk15: '1.8; 1.7-1.9', wk16: '2.1; 2.0-2.2', wk17: '2.4; 2.3-3.6', wk18: '2.7; 2.6-2.9', wk19: '3.1; 2.9-3.2', wk20: '3.4; 3.2-3.6', wk21: '3.7; 3.5-3.9', wk22: '4.0; 3.8-4.2', wk23: '4.2; 3.9-4.4', wk24: '4.4; 4.1-4.6', wk25: '4.6; 4.3-4.9', wk26: '4.8; 4.5-5.2', wk27: '5.0; 4.6-5.4', wk28: '5.2; 4.8-5.6', wk29: '5.4; 4.9-5.9', wk30: '5.6; 5.1-6.2', wk31: '5.8; 5.2-6.4', wk32: '6.0; 5.4-6.7', wk33: '6.3; 5.6-6.9', wk34: '6.5; 5.8-7.1', wk35: '6.7; 6.0-7.4', wk36: '6.9; 6.3-7.6', wk37: '7.1; 6.6-7.8', wk38: '7.3; 6.7-8.0', wk39: '7.6; 6.9-8.2', wk40: '7.8; 7.2-8.4', wk41: '8.0; 7.4-8.6', wk42: '8.3; 7.6-8.9', wk43: 'n/a', wk44: 'n/a' }, chc:{ wk12: 'n/a; n/a', wk13: '7.7; n/a', wk14: '8.6; n/a', wk15: '9.5; n/a', wk16: '10.5; n/a', wk17: '11.4; n/a', wk18: '12.4; n/a', wk19: '13.3; n/a', wk20: '14.2; n/a', wk21: '15.2; n/a', wk22: '16.1; n/a', wk23: '17.0; n/a', wk24: '18.0; n/a', wk25: '18.9; n/a', wk26: '19.9; n/a', wk27: '20.8; n/a', wk28: '21.7; n/a', wk29: '22.7; n/a', wk30: '23.6; n/a', wk31: '24.5; n/a', wk32: '25.5; n/a', wk33: '26.4; n/a', wk34: '27.4; n/a', wk35: '28.3; n/a', wk36: '29.2; n/a', wk37: '30.2; n/a', wk38: '31.1; n/a', wk39: '32.1; n/a', wk40: '33.0; n/a', wk41: 'n/a; n/a', wk42: 'n/a; n/a', wk43: 'n/a', wk44: 'n/a' }, abdc:{ wk12: 'n/a; n/a', wk13: '6.0; n/a', wk14: '6.9; n/a', wk15: '7.8; n/a', wk16: '8.7; n/a', wk17: '9.6; n/a', wk18: '10.5; n/a', wk19: '11.5; n/a', wk20: '12.4; n/a', wk21: '13.3; n/a', wk22: '14.2; n/a', wk23: '15.1; n/a', wk24: '16.0; n/a', wk25: '16.9; n/a', wk26: '17.9; n/a', wk27: 'n/a; n/a', wk28: 'n/a; n/a', wk29: 'n/a; n/a', wk30: 'n/a; n/a', wk31: 'n/a; n/a', wk32: 'n/a; n/a', wk33: 'n/a; n/a', wk34: 'n/a; n/a', wk35: 'n/a; n/a', wk36: 'n/a; n/a', wk37: 'n/a; n/a', wk38: 'n/a; n/a', wk39: 'n/a; n/a', wk40: 'n/a; n/a', wk41: 'n/a; n/a', wk42: 'n/a; n/a', wk43: 'n/a', wk44: 'n/a' }, icanth:{ wk12: '0.6; 0.5 - 0.8', wk13: '0.7; 0.5 - 0.8', wk14: '0.8; 0.6 - 0.9', wk15: '0.9; 0.7 - 1.0', wk16: '0.9; 0.8 - 1.1', wk17: '1.0; 0.9 - 1.2', wk18: '1.1; 1.0 - 1.3', wk19: '1.2; 1.0 - 1.3', wk20: '1.3; 1.1 - 1.4', wk21: '1.3; 1.1 - 1.5', wk22: '1.4; 1.3 - 1.8', wk23: '1.4; 1.3 - 1.8', wk24: '1.5; 1.3 - 1.7', wk25: '1.6; 1.4 - 1.7', wk26: '1.6; 1.5 - 1.8', wk27: '1.7; 1.5 - 1.8', wk28: '1.7; 1.6 - 1.9', wk29: '1.8; 1.6 - 1.9', wk30: '1.8; 1.6 - 2.0', wk31: '1.9; 1.7 - 2.0', wk32: '1.9; 1.7 - 2.1', wk33: '1.9; 1.8 - 2.1', wk34: '2.0; 1.8 - 2.2', wk35: '2.0; 1.8 - 2.2', wk36: '2.0; 1.9 - 2.2', wk37: '2.1; 1.9 - 2.2', wk38: '2.1; 1.9 - 2.3', wk39: '2.1; 1.9 - 2.3', wk40: '2.1; 1.9 - 2.3', wk41: '2.1; 2.0 - 2.3', wk42: '2.2; 2.0 - 2.3', wk43: 'n/a', wk44: 'n/a' }, ocanth:{ wk12: '1.4; 1.0 - 1.8', wk13: '1.7; 1.3 - 2.1', wk14: '1.9; 1.5 - 2.3', wk15: '2.2; 1.8 - 2.6', wk16: '2.4; 2.0 - 2.8', wk17: '2.7; 2.3 - 3.1', wk18: '2.9; 2.5 - 3.3', wk19: '3.2; 2.7 - 3.6', wk20: '3.4; 3.0 - 3.8', wk21: '3.6; 3.2 - 4.0', wk22: '3.8; 3.4 - 4.2', wk23: '4.0; 3.6 - 4.4', wk24: '4.2; 3.8 - 4.6', wk25: '4.4; 4.0 - 4.8', wk26: '4.6; 4.2 - 5.0', wk27: '4.8; 4.4 - 5.2', wk28: '4.9; 4.5 - 5.4', wk29: '5.1; 4.7 - 5.5', wk30: '5.3; 4.9 - 5.7', wk31: '5.4; 5.0 - 5.8', wk32: '5.6; 5.2 - 6.0', wk33: '5.7; 5.3 - 6.1', wk34: '5.9; 5.4 - 6.3', wk35: '6.0; 5.6 - 6.4', wk36: '6.1; 5.7 - 6.5', wk37: '6.2; 5.8 - 6.7', wk38: '6.3; 5.9 - 6.8', wk39: '6.4; 6.0 - 6.9', wk40: '6.5; 6.1 - 7.0', wk41: '6.6; 6.2 - 7.1', wk42: '6.7; 6.3 - 7.1', wk43: 'n/a', wk44: 'n/a' } };

heartval = { trival: { wk14: 'n/a; n/a - n/a', wk15: '0.8; 0.6 - 1.1', wk16: '1.0; 0.7 - 1.2', wk17: '1.1; 0.8 - 1.4', wk18: '1.2; 0.8 - 1.5', wk19: '1.3; 0.9 - 1.6', wk20: '1.4; 1.0 - 1.8', wk21: '1.5; 1.1 - 1.9', wk22: '1.7; 1.2 - 2.1', wk23: '1.8; 1.3 - 2.2', wk24: '1.9; 1.4 - 2.3', wk25: '2.0; 1.5 - 2.5', wk26: '2.1; 1.6 - 2.6', wk27: '2.2; 1.7 - 2.7', wk28: '2.3; 1.8 - 2.9', wk29: '2.5; 1.9 - 3.0', wk30: '2.6; 2.0 - 3.1', wk31: '2.7; 2.1 - 3.2', wk32: '2.8; 2.2 - 3.4', wk33: '2.9; 2.3 - 3.5', wk34: '3.0; 2.5 - 3.6', wk35: '3.1; 2.6 - 3.7', wk36: '3.3; 2.7 - 3.8', wk37: '3.4; 2.8 - 4.0', wk38: '3.5; 2.9 - 4.1', wk39: '3.6; 3.0 - 4.2', wk40: '3.7; 3.2 - 4.3', wk41: '3.8; 3.3 - 4.4', wk42: '3.9; 3.4 - 4.5' , wk43: 'n/a', wk44: 'n/a' }, pulval: { wk14: 'n/a; n/a - n/a', wk15: '0.5; 0.4 - 0.6', wk16: '0.5; 0.4 - 0.7', wk17: '0.6; 0.4 - 0.8', wk18: '0.7; 0.5 - 0.8', wk19: '0.7; 0.5 - 0.9', wk20: '0.8; 0.6 - 1.0', wk21: '0.9; 0.6 - 1.1', wk22: '0.9; 0.7 - 1.1', wk23: '1.0; 0.7 - 1.2', wk24: '1.0; 0.8 - 1.3', wk25: '1.1; 0.8 - 1.4', wk26: '1.2; 0.9 - 1.5', wk27: '1.2; 0.9 - 1.5', wk28: '1.3; 1.0 - 1.6', wk29: '1.4; 1.0 - 1.7', wk30: '1.4; 1.1 - 1.8', wk31: '1.5; 1.2 - 1.8', wk32: '1.6; 1.2 - 1.9', wk33: '1.7; 1.3 - 2.0', wk34: '1.7; 1.3 - 2.1', wk35: '1.8; 1.4 - 2.1', wk36: '1.9; 1.5 - 2.2', wk37: '1.9; 1.5 - 2.3', wk38: '2.0; 1.6 - 2.4', wk39: '2.1; 1.7 - 2.4', wk40: '2.1; 1.8 - 2.5', wk41: '2.2; 1.8 - 2.6', wk42: '2.3; 1.9 - 2.7' , wk43: 'n/a', wk44: 'n/a' }, mitval:{ wk14: 'n/a; n/a - n/a', wk15: '0.8; 0.5 - 1.0', wk16: '0.9; 0.6 - 1.2', wk17: '1.0; 0.7 - 1.3', wk18: '1.1; 0.7 - 1.4', wk19: '1.2; 0.8 - 1.6', wk20: '1.3; 0.9 - 1.7', wk21: '1.4; 1.0 - 1.8', wk22: '1.5; 1.1 - 2.0', wk23: '1.6; 1.1 - 2.1', wk24: '1.7; 1.2 - 2.2', wk25: '1.8; 1.3 - 2.3', wk26: '1.9; 1.4 - 2.4', wk27: '2.0; 1.5 - 2.6', wk28: '2.1; 1.6 - 2.7', wk29: '2.2; 1.7 - 2.8', wk30: '2.3; 1.7 - 2.9', wk31: '2.4; 1.8 - 3.0', wk32: '2.5; 1.9 - 3.1', wk33: '2.6; 2.0 - 3.2', wk34: '2.7; 2.1 - 3.3', wk35: '2.8; 2.2 - 3.4', wk36: '2.9; 2.3 - 3.5', wk37: '3.0; 2.4 - 3.6', wk38: '3.1; 2.5 - 3.7', wk39: '3.2; 2.6 - 3.7', wk40: '3.2; 2.7 - 3.8', wk41: '3.3; 2.8 - 3.9', wk42: '3.4; 2.9 - 4.0' , wk43: 'n/a', wk44: 'n/a' }, aoval:{ wk14: 'n/a; n/a - n/a', wk15: '0.4; 0.3 - 0.6', wk16: '0.5; 0.3 - 0.6', wk17: '0.6; 0.4 - 0.7', wk18: '0.6; 0.4 - 0.8', wk19: '0.7; 0.5 - 0.9', wk20: '0.7; 0.5 - 0.9', wk21: '0.8; 0.6 - 1.0', wk22: '0.9; 0.6 - 1.1', wk23: '0.9; 0.6 - 1.1', wk24: '1.0; 0.7 - 1.2', wk25: '1.0; 0.7 - 1.3', wk26: '1.1; 0.8 - 1.3', wk27: '1.1; 0.8 - 1.4', wk28: '1.2; 0.9 - 1.5', wk29: '1.2; 0.9 - 1.5', wk30: '1.3; 1.0 - 1.6', wk31: '1.3; 1.0 - 1.6', wk32: '1.4; 1.1 - 1.7', wk33: '1.5; 1.1 - 1.7', wk34: '1.5; 1.2 - 1.8', wk35: '1.6; 1.2 - 1.9', wk36: '1.6; 1.3 - 1.9', wk37: '1.7; 1.3 - 2.0', wk38: '1.7; 1.4 - 2.0', wk39: '1.7; 1.4 - 2.1', wk40: '1.8; 1.5 - 2.1', wk41: '1.8; 1.5 - 2.2', wk42: '1.9; 1.5 - 2.2' , wk43: 'n/a', wk44: 'n/a' } };

placweight = {
        wk21: {_90th: '172', _75th: '158', _50th: '143', _25th: '128', _10th: '114'},
        wk22: {_90th: '191', _75th: '175', _50th: '157', _25th: '138', _10th: '122'},
        wk23: {_90th: '211', _75th: '193', _50th: '172', _25th: '151', _10th: '133'},
        wk24: {_90th: '233', _75th: '212', _50th: '189', _25th: '166', _10th: '145'},
        wk25: {_90th: '256', _75th: '233', _50th: '208', _25th: '182', _10th: '159'},
        wk26: {_90th: '280', _75th: '255', _50th: '227', _25th: '200', _10th: '175'},
        wk27: {_90th: '305', _75th: '278', _50th: '248', _25th: '219', _10th: '192'},
        wk28: {_90th: '331', _75th: '302', _50th: '270', _25th: '238', _10th: '210'},
        wk29: {_90th: '357', _75th: '327', _50th: '293', _25th: '259', _10th: '249'},
        wk30: {_90th: '384', _75th: '352', _50th: '316', _25th: '281', _10th: '249'},
        wk31: {_90th: '411', _75th: '377', _50th: '340', _25th: '303', _10th: '269'},
        wk32: {_90th: '438', _75th: '403', _50th: '364', _25th: '325', _10th: '290'},
        wk33: {_90th: '464', _75th: '428', _50th: '387', _25th: '347', _10th: '311'},
        wk34: {_90th: '491', _75th: '453', _50th: '411', _25th: '369', _10th: '331'},
        wk35: {_90th: '516', _75th: '477', _50th: '434', _25th: '391', _10th: '352'},
        wk36: {_90th: '542', _75th: '501', _50th: '457', _25th: '412', _10th: '372'},
        wk37: {_90th: '566', _75th: '524', _50th: '478', _25th: '432', _10th: '391'},
        wk38: {_90th: '589', _75th: '547', _50th: '499', _25th: '452', _10th: '409'},
        wk39: {_90th: '611', _75th: '567', _50th: '519', _25th: '470', _10th: '426'},
        wk40: {_90th: '632', _75th: '587', _50th: '537', _25th: '487', _10th: '442'},
        wk41: {_90th: '651', _75th: '605', _50th: '553', _25th: '502', _10th: '456'}
    };

//*************************************************************//
//                        Pop-ups                              //
// *************************************************************/




//************************************************************//
// Script to populate the template data in the output textarea//
// *************************************************************/
    $(".writeReport").on("click", function () {
        // gender
        var au_gend = $("#box1").val();
        //GA
        var au_ga = $("#box2").val();

        // weights
        var wt_body = Number($("#box10").val()); // body
        var wt_heart = Number($("#box11").val()); // heart
        var wt_rlung = Number($("#box12").val()); // R lung
        var wt_llung = Number($("#box13").val()); // L lung
        var wt_lungs = wt_rlung+wt_llung;
        var wt_liver = Number($("#box14").val()); // Liver
        var wt_rkid = Number($("#box15").val()); // R Kidney
        var wt_lkid = Number($("#box16").val()); // L Kidney
        var wt_kidneys = wt_rkid+wt_lkid;
        var wt_rad = Number($("#box17").val()); // R Adrenal
        var wt_lad = Number($("#box18").val()); // L Adrenal
        var wt_ads = wt_rad+wt_lad;
        var wt_uterus = Number($("#box19").val()); // Uterus
        var wt_thymus = Number($("#box20").val()); // Thymus
        var wt_spleen = Number($("#box21").val()); // Spleen
        var wt_brain = Number($("#box22").val()); // Brain
        var wt_plac = Number($("#box23").val()); // Placenta
       
        // Measurements
        var ms_ch = $("#box30").val(); // crownheel
        var ms_cr = $("#box31").val(); // cr-rump
        var ms_hc = $("#box32").val(); // head circ
        var ms_cc = $("#box33").val(); // chest circ
        var ms_ac = $("#box34").val(); // abd circ
        var ms_fl = $("#box35").val(); // foot length
        var ms_ic = $("#box36").val(); // inner canth
        var ms_oc = $("#box37").val(); // out canth
        var ms_pup = $("#box38").val(); // pupil
        var ms_tv = $("#box39").val(); // heart TV
        var ms_pv = $("#box40").val(); // heart pv
        var ms_mv = $("#box41").val(); // heart mv
        var ms_av = $("#box42").val(); // heart av
        var ms_rv = $("#box43").val(); // rv
        var ms_lv = $("#box44").val(); // lv

        // get placenta percentages
        var wkObj = placweight['wk' + au_ga]; // get plac object data
        if (wkObj) {
            console.log(wkObj);
            var percentiles = $.map(wkObj, function (value, key) {
                return {
                    wt_plac: Number(value),
                    percentile: key.substr(1)
                };
            }).sort(function (a, b) {
                return a.wt_plac - b.wt_plac; // ascending sort returned array
            });

            var upperIndex = -1;

            $.each(percentiles, function (i, obj) {
                if (obj.wt_plac > wt_plac) {
                    // when the percentiles[wt_plac] value first exceeds the user plac wt,
                    // return the index position and stop the function
                    upperIndex = i;
                    // if user plac wt is greater than all percentile weights, upperIndex remains -1
                    return false;
                }
            });

            console.log("Upper Index: "+upperIndex);

            var lower, upper;
            var plac_range;
            if (upperIndex > 0) { // meaning, if user plac wt falls between 0 and 90th pctille
                lower = percentiles[upperIndex - 1].percentile; // assign bottom delimiter
                upper = percentiles[upperIndex].percentile; // assgn upper delimiter
                plac_range = wt_plac+"(g)\t[Between "+lower+" & "+upper+" %iles]";
            } else if (upperIndex === 0) { // meaning, user plac wt falls below 10th pctiles
                upper = percentiles[upperIndex].percentile;
                plac_range = wt_plac+"(g)\t[< "+upper+" %ile]";
            } else { // meaning, user plac wt falls above 90th pctiles
                lower = percentiles[percentiles.length - 1].percentile;
                plac_range = wt_plac+"(g)\t[> "+lower+" %tile]";
            }

        } else { // when reference ranges aren't available
            plac_range = "No reference data available";
        }

        var datatable = "Weights and Measurements Summary\n";

        datatable +=
            "Gestational age: "+au_ga+" weeks\nData represented as 'value [expected mean; expected range]'\n\n"+

            "Fetal Measurements with reference ranges: \n"+
              "Item .......... Value\tReference"+
            "\n-----------------------------------------"+
            "\nCrown-Heel .... "+ms_ch+" (cm)\t"+meastable.chlen["wk"+au_ga]+
            "\nCrown-Rump .... "+ms_cr+" (cm)\t"+meastable.crlen["wk"+au_ga]+
            "\nHead Circ ..... "+ms_hc+" (cm)\t"+meastable.hc["wk"+au_ga]+
            "\nFoot Length ... "+ms_fl+" (cm)\t"+meastable.fl["wk"+au_ga]+
            "\nChest Circ .... "+ms_cc+" (cm)\t"+meastable.chc["wk"+au_ga]+
            "\nAbdomen Circ .. "+ms_ac+" (cm)\t"+meastable.abdc["wk"+au_ga]+
            "\nInner Canth ... "+ms_ic+" (cm)\t"+meastable.icanth["wk"+au_ga]+
            "\nOuter Canth ... "+ms_oc+" (cm)\t"+meastable.ocanth["wk"+au_ga]+

            "\n\nOrgan Weights with reference ranges: \n"+
            "Item .......... Value\tReference"+
            "\n-----------------------------------------"+
            "\nBody .......... "+wt_body+" (g)\t"+wttable.body["wk"+au_ga]+
            "\nHeart ......... "+wt_heart+" (g)\t"+wttable.heart["wk"+au_ga]+
            "\nLungs* ........ "+wt_lungs+" (g)\t"+wttable.lungs["wk"+au_ga]+
            "\nLiver ......... "+wt_liver+" (g)\t"+wttable.liver["wk"+au_ga]+
            "\nKidneys* ...... "+wt_kidneys+" (g)\t"+wttable.kidney["wk"+au_ga]+
            "\nThymus ........ "+wt_thymus+" (g)\t"+wttable.thymus["wk"+au_ga]+
            "\nSpleen  ....... "+wt_spleen+" (g)\t"+wttable.spleen["wk"+au_ga]+
            "\nAdrenals*  .... "+wt_ads+" (g)\t"+wttable.adrenal["wk"+au_ga]+
            "\nBrain ......... "+wt_brain+" (g)\t"+wttable.brain["wk"+au_ga]+
            "\n(*combined organ weights)\n";

        if (au_ga < 14){
            datatable +=   
                        "\n\nNo reference heart valve data available for this gestational age\n";}
        if (au_ga >= 14){
            datatable +=
            "\n\nHeart Valve Circumferences: \n"+
            "Item .......... Value\tReference"+
            "\n-----------------------------------------"+
            "\nTricuspid ..... "+ms_tv+" (cm)\t"+heartval.trival["wk"+au_ga]+
            "\nPulmonary  .... "+ms_pv+" (cm)\t"+heartval.pulval["wk"+au_ga]+
            "\nMitral  ....... "+ms_mv+" (cm)\t"+heartval.mitval["wk"+au_ga]+
            "\nAortic  ....... "+ms_av+" (cm)\t"+heartval.aoval["wk"+au_ga]+"\n";}

        if (au_ga < 19){
            datatable += "\n\nNo reference placenta weights for this gestational age\n";}
        if (au_ga >= 19){
            datatable +=
            "\n\nPlacenta: \n"+
            "Item .......... Value\tReference"+
            "\n-----------------------------------------"+
            "\nWeight ........ "+plac_range+"\n";
        }

        datatable += "\n\nReferences\nWeights/Measurments: Archie J et al, Am J Clin Pathol 2006; 126: 256.\nHeart valves: Scholz DG et al, Mayo Clin Proc 1988; 63: 126.\nPlacenta: Pinar et al, Pediatr Pathol Lab Med 1996; 16: 901\n\n";



        $('#outPut-1').val(datatable);

        dataObj.singleSection = $('#outPut-1').val();
        makeCreatePdfBtn();
    });
});




/**
 * Created by Chandra Krishnan on 2/28/2018.
 */
